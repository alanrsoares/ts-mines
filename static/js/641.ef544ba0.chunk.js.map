{"version":3,"file":"static/js/641.ef544ba0.chunk.js","mappings":"+QAGaA,EAAU,SAAoCC,GACzD,IAAMC,EAAQ,IAAIC,IAClB,OAAQ,WAAqB,IAAD,uBAAhBC,EAAI,yBAAJA,EAAI,gBACd,IAAMC,EAAMC,KAAKC,UAAUH,GAC3B,GAAIF,EAAMM,IAAIH,GACZ,OAAOH,EAAMO,IAAIJ,GAEnB,IAAMK,EAAST,EAAE,aAAIG,GAErB,OADAF,EAAMS,IAAIN,EAAKK,GACRA,CACT,CACF,ECOaE,EAAqB,SAACC,EAAeC,GAAgB,ODrBzC,SAACC,EAAaC,EAAaH,GAAa,OAC/DA,GAASE,GAAOF,EAAQG,CAAI,CCqB3BC,CAAU,EAAGH,EAAUD,EAAO,EAEpBK,EAAgB,SAC3BC,EACAC,GAAsB,OAEtBR,EAAmBO,EAAKE,IAAKD,EAAWE,OACxCV,EAAmBO,EAAKI,OAAQH,EAAWI,QAAS,EAEjCC,EAAI,WASvB,cAA6B,oBARrBC,YAA0B,CAChCJ,KAAM,EACNE,QAAS,GACT,KACMG,MAAmB,GAAG,KA+FvBC,wBAA0B5B,GAAQ,YAGvC,IAH0E,IAAhCqB,EAAG,EAAHA,IAAKE,EAAM,EAANA,OACzCM,EAA6B,GAE1BC,GAAK,EAAGA,GAAK,EAAGA,IACvB,IAAK,IAAIC,GAAK,EAAGA,GAAK,EAAGA,IACb,IAAND,GAAiB,IAANC,GAIfF,EAAYG,KAAK,CACfX,IAAKA,EAAMS,EACXP,OAAQA,EAASQ,IAKvB,OAAOF,CACT,IAAG,IAAD,uBA5GazB,EAAI,yBAAJA,EAAI,gBACjB,GAAoB,IAAhBA,EAAK6B,QAAgBC,MAAMC,QAAQ/B,EAAK,IAAK,CAC/CgC,KAAKT,MAAQvB,EAAK,GAElB,IAAMgB,EAAyB,CAC7BE,KAAMc,KAAKT,MAAMM,OACjBT,QAASY,KAAKT,MAAM,GAAGM,QAKzB,OAFAG,KAAKV,YAAcN,EAEZgB,IACT,CAEA,GAAuB,kBAAZhC,EAAK,IAA+B,OAAZA,EAAK,GAAa,CAMnD,IALA,IAAMgB,EAAahB,EAAK,GAClBiC,EAAOjC,EAAK,GAEZkB,EAAkB,GAEfQ,EAAI,EAAGA,EAAIV,EAAWE,KAAMQ,IAAK,CAGxC,IAFA,IAAMT,EAAc,GAEXU,EAAI,EAAGA,EAAIX,EAAWI,QAASO,IAAK,CAC3C,IAAMlB,EACY,oBAATwB,EACFA,EAAmB,CAClBhB,IAAKS,EACLP,OAAQQ,IAEVM,EAENhB,EAAIW,KAAK,CAAEX,IAAKS,EAAGP,OAAQQ,EAAGlB,MAAAA,GAChC,CAEAS,EAAKU,KAAKX,EACZ,CAKA,OAHAe,KAAKV,YAAcN,EACnBgB,KAAKT,MAAQL,EAENc,IACT,CAEA,MAAM,IAAIE,MAAM,qBAAD,OAAsBlC,EAAK,IAC5C,CAUC,OAVA,gCAYD,SAAgBmC,GAGd,OAFAH,KAAKT,MAAQY,EAENH,IACT,GAAC,oBAED,WACE,OAAOA,KAAKT,MAAMa,OACpB,GAAC,wBAED,WAEEH,GACU,IAFRhB,EAAG,EAAHA,IAAKE,EAAM,EAANA,OAGDkB,EAAWL,KAAKM,QAAQ,CAAErB,IAAAA,EAAKE,OAAAA,IAE/BV,EACY,oBAATwB,EACFA,EAAmB,CAAEhB,IAAAA,EAAKE,OAAAA,GAAUkB,EAAS5B,OAC9CwB,EAIN,OAFAD,KAAKT,MAAMN,GAAKE,GAAU,CAAEF,IAAAA,EAAKE,OAAAA,EAAQV,MAAAA,GAElCuB,IACT,GAAC,qBAED,YAA8C,IAA7Bf,EAAG,EAAHA,IAAKE,EAAM,EAANA,OACpB,IAAKL,EAAc,CAAEG,IAAAA,EAAKE,OAAAA,GAAUa,KAAKV,aACvC,OAAOU,KAAKT,MAAMN,GAAKE,GAGzB,MAAM,IAAIe,MAAM,kCAAD,OAAmCjB,EAAG,qBAAaE,GACpE,GAAC,8BAqBD,YAA+D,IAAD,OAApCF,EAAG,EAAHA,IAAKE,EAAM,EAANA,OAG7B,OAFoBa,KAAKR,wBAAwB,CAAEP,IAAAA,EAAKE,OAAAA,IAErCoB,QAAe,SAACC,EAAKzB,GACtC,OAAKD,EAAcC,EAAM,EAAKO,aAGvBkB,EAFC,GAAN,eAAWA,GAAG,CAAE,EAAKF,QAAQvB,IAGjC,GAAG,GACL,GAAC,iBAED,SAAclB,GAAoD,IAAD,OACzD4C,EAAwBT,KAAKT,MAAMmB,KAAI,SAACC,GAAK,OACjDA,EAAMD,KAAI,SAAC3B,GAAI,yBAAWA,GAAI,IAAEN,MAAOZ,EAAGkB,EAAKN,MAAOM,EAAM,IAAK,GAAI,IAGvE,OAAOM,EAAKuB,KAAKH,EACnB,IAAC,mBA9ED,WACE,OAAO,IAAIpB,EAAK,UAAD,sEACjB,GAAC,kBAED,SAAsBc,GACpB,OAAO,IAAId,EAAKc,EAClB,KAAC,EAhEsB,GC3BZU,EAA4B,CACvCC,KAAM,GACNC,OAAQ,GACRC,KAAM,GACNC,MAAO,GACPC,IAAK,IAKMC,EAAmC,CAC9CL,KAAM,SACNC,OAAQ,OACRC,KAAM,QACNC,MAAO,MACPC,IAAK,QAKDE,EAAgB,SAAClC,GAAY,MAAM,CACvCA,KAAAA,EACAE,QAASiC,KAAKC,MAAa,IAAPpC,GACrB,EAEYqC,EAAc,CAEzBC,GAAIJ,EAAc,IAClBK,GAAIL,EAAc,IAClBM,GAAIN,EAAc,IAClBO,GAAIP,EAAc,IAClBQ,GAAIR,EAAc,KAKPS,EAAgD,CAC3DL,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAcOE,EAAa,SAACC,GAAU,OAAWC,EAAAA,EAAAA,KAAM,YAAY,EAAMD,EAAM,EAEjEE,EAAa,SAACF,GAAU,MACrB,SAAdA,EAAKG,KAAkBJ,EAAWC,GAAQA,CAAK,EAE1C,SAASI,EAAYhC,EAAsBiC,GAChD,IAAMC,EAAWhD,EAAKuB,KAAKT,GAEZ4B,EAASK,EAAhB3D,MAKR,OAFA4D,EAASC,WAAWF,EAAaN,EAAWC,IAE1B,SAAdA,EAAKG,MAITG,EAASE,iBAAiBH,GAAaI,SAAQ,SAACC,GAC9C,IAAeC,EAAaD,EAApBhE,MAGR,IAAIiE,EAASC,SAIb,OAAQD,EAASR,MACf,IAAK,QACHG,EAASC,WAAWG,EAAcX,EAAWY,IAC7C,MAEF,IAAK,OACH,OAAOP,EAAYE,EAASO,SAAUH,GAE5C,IAnBSJ,CAsBX,CAEO,IAAMQ,EAAS,SAAC9D,GAAgB,MAAyB,SAApBA,EAAKN,MAAMyD,IAAgB,EAE1DY,EAAc,SAAC9D,EAAwB+D,GAOlD,OAAO1D,EAAK2D,KAAWhE,GANI,WAAH,MAAU,CAChCkD,KAAMb,KAAK4B,UAAYF,EAAgB,IAAM,QAAU,OACvDG,iBAAkB,EAClBP,UAAU,EACX,IAEwCjC,KAAU,SAACqB,EAAMhD,EAAMoE,GAC9D,GAAkB,SAAdpB,EAAKG,KAAiB,CACxB,IAEMgB,EAFYC,EAAKZ,iBAAiBxD,GAChBqE,OAAOP,GACAhD,OAE/B,OAAO,kBACFkC,GAAI,IACPmB,iBAAAA,EACAhB,KAAMgB,EAAmB,QAAU,QAEvC,CAEA,OAAOnB,CACT,GACF,EAEO,SAASsB,EAAOC,GACrB,IAAM3C,GAAQ4C,EAAAA,EAAAA,KAAQD,EAAKV,UAErBY,EAAU7C,EAAMJ,QACpB,SAACC,EAAKzB,GAAI,MAAM,CACd0E,QAAS1E,EAAKN,MAAMiF,QAAUlD,EAAIiD,QAAU,EAAIjD,EAAIiD,QACpDd,SAAU5D,EAAKN,MAAMkE,SAAWnC,EAAImC,SAAW,EAAInC,EAAImC,SACvDgB,MAA2B,SAApB5E,EAAKN,MAAMyD,KAAkB1B,EAAImD,MAAQ,EAAInD,EAAImD,MACzD,GACD,CAAEF,QAAS,EAAGd,SAAU,EAAGgB,MAAO,IAGpC,OACEH,EAAQG,QAAUH,EAAQC,SAC1BD,EAAQb,SAAWa,EAAQC,UAAY9C,EAAMd,MAEjD,C,wBCnIO,SAAe+D,EAAgB,GAAD,+BAcpC,8CAdM,WAA+B1B,GAAqB,4EAGxD,GAFK2B,EAAUC,SAASC,cAAc,aAAD,OACvB7B,IAGF,CAAD,qBACJ,IAAIhC,MAAM,yBAAD,OAA0BgC,IAAQ,KAAD,2BAI1C2B,EAAQG,OAAO,KAAD,kDAEpBC,QAAQC,IAAI,gCAAD,OAAiChC,IAAQ,0DAEvD,sBCdM,IA2DJiC,EA3DUC,EAAe,SAACd,GAAuB,OAClDA,EAAK/C,QACH,SAAC8D,EAAOpF,GAAG,OACTA,EAAIsB,QACF,SAACoD,EAAO5E,GAAI,MAA0B,SAApBA,EAAKN,MAAMyD,KAAkByB,EAAQ,EAAIA,CAAK,GAChEU,EACD,GACH,EACA,EA6BSC,EAAiC,OAIxCC,EAAeC,EACnB,CAAEtF,KAAM,GAAIE,QAAS,IACrBoF,EAAiD,MACjD5B,SAEW6B,EAAuB,CAClCC,WAAY,MACZC,SAAU,SACVC,UAAWN,EACXO,UAXgD,KAYhDC,gBAAYC,EACZC,MAAO,EACP1B,KAAMiB,EACNU,WAAW,EACXC,UAAWd,EAAaG,IAOpBY,GAHHhB,EAGgC,CAAC,MAAO,QAHR,SAACiB,GAAuB,OACvDjB,EAASkB,SAASD,EAAQ,GAIjBE,EAAmC,SAACC,EAAOC,GACtD,OAAQA,EAAOC,MACb,IAAK,mBACH,OAAO,kBACFF,GAAK,IACRZ,SAA6B,WAAnBY,EAAMZ,SAAwB,SAAW,WAEvD,IAAK,uBACH,OAAO,kBACFY,GAAK,IACRN,WAAYM,EAAMN,YAEtB,IAAK,QACH,IAAKE,EAAcI,EAAMb,YACvB,OAAOa,EAGT,IAAMlD,EAAWmC,EACfA,EAAiBe,EAAMV,WACvBL,EAA+Be,EAAMX,YACrChC,SAEF,OAAO,kBACF6B,GAAa,IAChBnB,KAAMjB,EACNuC,UAAWW,EAAMX,UACjBC,UAAWU,EAAMV,UACjBK,UAAWd,EAAa/B,KAG5B,IAAK,cACH,MAAuBmD,EAAOE,QAAtB3G,EAAI,EAAJA,KAAM4G,EAAI,EAAJA,KAEd,GAAIR,EAAcI,EAAMb,YACtB,OAAOa,EAGT,IAAexD,EAAShD,EAAhBN,MACFkG,EAAe,OAAJgB,QAAI,IAAJA,EAAAA,EAAQJ,EAAMZ,SACzBiB,GAAgB,kBAAQL,GAAK,IAAET,WAAYU,EAAOE,QAAQ3G,OAEhE,GAAIgD,EAAKY,UAAYZ,EAAK2B,QACxB,OAAOkC,EAGT,OAAQjB,GACN,IAAK,SACH,GAAkB,SAAd5C,EAAKG,KAAiB,CAExB,IAAMG,EAAWhD,EAAKuB,KAAK2E,EAAMjC,MAAMhB,WAAWvD,GAAK,kBAClDgD,GAAI,IACPY,UAAU,KAOZ,OAJI4C,EAAMN,WACRrB,EAAgB,aAGX,kBACFgC,GAAgB,IACnBtC,KAAMjB,EAAS3B,IAAI8D,GAAiB5B,SACpC8B,WAAY,QAEhB,CAEIa,EAAMN,WACRrB,EAAgB,UAGlB,IAAMvB,EAAWhD,EAAKuB,KAAK2E,EAAMjC,MAAMhB,WAAWvD,GAAK,kBAClDgD,GAAI,IACP2B,SAAU3B,EAAK2B,WAGXL,EAASmB,EAAYnC,GAM3B,OAJIgB,GAAUkC,EAAMN,WAClBrB,EAAgB,QAGX,kBACFgC,GAAgB,IACnBtC,KAAMjB,EAASO,SACf8B,WAAYrB,EAAS,MAAQkC,EAAMb,WACnCM,MAAOO,EAAMP,MAAQ,EACrBJ,UAAWvB,EACPmB,EAAgBe,EAAMX,WACtBW,EAAMX,UACVC,UAAWxB,EACPmB,EAAqBe,EAAMV,WAC3BU,EAAMV,YAGd,IAAK,SACH,GAAkB,SAAd9C,EAAKG,KAMP,OALIqD,EAAMN,WACRrB,EAAgB,cAIX,kBACFgC,GAAgB,IACnBtC,KAAMjE,EAAKuB,KAAK2E,EAAMjC,MAAM5C,IAAI8D,GAAiB5B,SACjD8B,WAAY,SAIhB,IAAMrC,EAAWmC,EAAiBe,EAAMjC,KAAMvE,GAExC8G,GAAYtC,EAAAA,EAAAA,KAAQlB,EAASO,UAAUQ,QAC3C,SAACzD,GAAC,OAAKA,EAAElB,MAAMkE,QAAQ,IACvB9C,OAEIwD,EAASmB,EAAYnC,GAE3B,GAAIkD,EAAMN,UAAW,CACnB,IAAMa,EAAaD,EAAYN,EAAMP,MACrCpB,EACEP,EAAS,MAAQyC,EAAa,EAAI,SAAW,SAEjD,CAEA,OAAO,kBACFF,GAAgB,IACnBtC,KAAMjB,EAASO,SACfoC,MAAOa,EACPnB,WAAYrB,EAAS,MAAQkC,EAAMb,cAM/C,EC5MqBqB,EAAc,WAGjC,WAAYC,IAAoB,oBAFxBA,UAAY,GAGlBhG,KAAKgG,UAAYA,CACnB,CAaC,OAbA,6BAED,SAA2BvH,GAA8B,IAApBwH,EAAY,uDAAG,GAClDC,aAAaC,QAAQ,GAAD,OACfnG,KAAKgG,WAAS,OAAGC,GACpB/H,KAAKC,UAAe,OAALM,QAAK,IAALA,EAAAA,EAAS,MAE5B,GAAC,kBAED,SAAe2H,GAAwC,IAAvBH,EAAY,uDAAG,GACvCxH,EAAQyH,aAAaG,QAAQ,GAAD,OAAIrG,KAAKgG,WAAS,OAAGC,IAEvD,OAAiB,OAAVxH,EAAiBP,KAAKoI,MAAM7H,GAAS2H,CAC9C,KAAC,EAlBgC,GCInC,MAAmBL,EAFM,aCClB,OAGHQ,EAAAA,EAAAA,ICgGG,WACL,MAjFK,SACLC,EACAC,EACAnB,GAEA,IAAMoB,EAAiBC,EAAQC,KAAKH,EAAcD,GAElD,GAA0BK,EAAAA,EAAAA,YAAWvB,EAASoB,GAAe,eAAtDnB,EAAK,KAAEuB,EAAQ,KAMtB,OAJAC,EAAAA,EAAAA,YAAU,WACRJ,EAAQK,MAASzB,EAAOiB,EAC1B,GAAG,CAACjB,EAAOiB,IAEJ,CAACjB,EAAOuB,EACjB,CAmE4BG,CACxB,SACAxC,EACAa,GACD,eAJMC,EAAK,KAAEuB,EAAQ,KAMhBI,GAAWC,EAAAA,EAAAA,UAAQ,WACvB,IAEMC,EAFa7B,EAAMjC,KAAKzD,OAAS0F,EAAMjC,KAAK,GAAGzD,QAClC0F,EAAML,WAAad,EAAamB,EAAMjC,OAGzD,OAAQiC,EAAMP,MAAQoC,EAAa,GACrC,GAAG,CAAC7B,EAAMjC,KAAMiC,EAAML,UAAWK,EAAMP,QAEjCqC,GAAcC,EAAAA,EAAAA,cAClB,SAACvI,EAAuB4G,GACtBmB,EAAS,CAAErB,KAAM,cAAeC,QAAS,CAAE3G,KAAAA,EAAM4G,KAAAA,IACnD,GACA,CAACmB,IAGGS,GAAkBD,EAAAA,EAAAA,cACtB,SAACvI,GACC+H,EAAS,CAAErB,KAAM,cAAeC,QAAS,CAAE3G,KAAAA,EAAM4G,KAAM,WACzD,GACA,CAACmB,IAGGU,GAAgBF,EAAAA,EAAAA,cAAY,WAChCR,EAAS,CAAErB,KAAM,SACnB,GAAG,CAACqB,IAEEW,GAAmBH,EAAAA,EAAAA,cAAY,WACnCR,EAAS,CAAErB,KAAM,oBACnB,GAAG,CAACqB,IAEEY,GAAuBJ,EAAAA,EAAAA,cAAY,WACvCR,EAAS,CAAErB,KAAM,wBACnB,GAAG,CAACqB,IAEJ,MAAO,CACLvB,OAAM,kBACDA,GAAK,IACR2B,SAAAA,IAEFS,SAAU,CACRN,YAAAA,EACAG,cAAAA,EACAC,iBAAAA,EACAC,qBAAAA,EACAH,gBAAAA,GAGN,IDxJYK,EAAiB,EAA3BC,SACcC,EAAqB,EAAnCC,aEHK,SAASC,EACdC,EACAC,GAKA,IAHA,IAAMC,EAAcF,EAAcG,MAAM,OAClCC,EAAeH,EAAeE,MAAM,OAEnCD,EAAYtI,QAAUwI,EAAaxI,QAAQ,CAChD,IAAMyI,EAAIC,OAAOJ,EAAYK,SACvBC,EAAIF,OAAOF,EAAaG,SAE9B,GAAIF,IAAMG,EAIV,OAAOH,EAAIG,GAAKC,MAAMD,EACxB,CAEA,OAAO,CACT,CAQO,IAAME,EACX,SACEC,GAAe,IACfC,EAAqB,uDAAG,WACtB,MAAM,IAAI3I,MAAM,mBAClB,EAAC,gDAEH,WAAO4I,GAAW,8EAE2C,OAArDC,EAAgBC,OAAOC,WAAWJ,EAAWD,GAAS,EAAD,OACpCM,MAAMJ,GAAK,KAAD,EAEE,OAF7BK,EAAQ,OAEdH,OAAOI,aAAaL,GAAe,kBAC5BI,GAAQ,2CAChB,mDATE,EASF,EAEI,SAAeE,IAAU,+BAO/B,8CAPM,+FACDL,OAAOM,OAAO,CAAD,+BACIN,OAAOM,OAAOC,OAAO,KAAD,EACwB,OADzDA,EAAI,OACJC,EAAaD,EAAK7I,KAAI,SAACzC,GAAG,OAAK+K,OAAOM,OAAOG,OAAOxL,EAAI,IAAE,EAAD,OAEzDyL,QAAQC,IAAIH,GAAY,KAAD,uCAEhC,sBAEM,SAAeI,IAAkB,+BAexC,aAFC,OAED,0BAfO,iGAK4D,OAA3DC,EAA0BlB,EAAiB,KAJ/B,WAChB,MAAM,IAAIzI,MAAM,2CAClB,IAEkE,EAAD,OAE1C2J,EAAwB,eAAD,OAAgBC,KAAKC,QAAS,KAAD,EAA7D,OAARZ,EAAQ,gBACKA,EAASa,OAAO,KAAD,EAEO,OAFnCC,EAAI,OACJhC,EAAgBgC,EAAKC,QACrBhC,EAAiBiC,EAAAA,EAAOC,WAAU,kBAEjCpC,EAAkBC,EAAeC,IAAe,6CACxD,sBAKM,SAASmC,IACdrB,OAAOsB,SAASC,QAClB,CAEO,SAAeC,IAAgB,+BAOrC,8CAPM,4GAEGnB,IAAa,KAAD,EAClBL,OAAOC,WAAWoB,EAAa,KAAK,+CAEpCpG,QAAQC,IAAI,wBAAwB,EAAD,IAAS,yDAE/C,sBAEM,SAAeuG,IAAkB,+BAYvC,8CAZM,4GAEsBb,IAAqB,KAAD,EAA7B,aAGdZ,OAAO0B,QAAQ,yDAAwD,gCAEjEF,IAAmB,KAAD,kDAG1BvG,QAAQC,IAAI,+BAA+B,EAAD,IAAS,0DAEtD,sBAEM,ICnGHyG,GAAOC,GAASC,GAAIC,GAAOC,GAAQC,GAAKC,GAAQC,GAAQC,GAAQC,GAAQC,GDmG/DC,GAAwB,KClGrC,IAAIC,GAAY,CAAC,QAAS,WAC1B,SAASC,KAAiS,OAApRA,GAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjM,OAAQgM,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAI5N,KAAO8N,EAAcN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQ9N,KAAQ2N,EAAO3N,GAAO8N,EAAO9N,GAAU,CAAE,OAAO2N,CAAQ,EAAUJ,GAASW,MAAMnM,KAAM8L,UAAY,CAClV,SAASM,GAAyBL,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAAkE9N,EAAK4N,EAAnED,EACzF,SAAuCG,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAA2D9N,EAAK4N,EAA5DD,EAAS,CAAC,EAAOU,EAAab,OAAOlC,KAAKwC,GAAqB,IAAKF,EAAI,EAAGA,EAAIS,EAAWzM,OAAQgM,IAAO5N,EAAMqO,EAAWT,GAAQQ,EAASE,QAAQtO,IAAQ,IAAa2N,EAAO3N,GAAO8N,EAAO9N,IAAQ,OAAO2N,CAAQ,CADhNY,CAA8BT,EAAQM,GAAuB,GAAIZ,OAAOgB,sBAAuB,CAAE,IAAIC,EAAmBjB,OAAOgB,sBAAsBV,GAAS,IAAKF,EAAI,EAAGA,EAAIa,EAAiB7M,OAAQgM,IAAO5N,EAAMyO,EAAiBb,GAAQQ,EAASE,QAAQtO,IAAQ,GAAkBwN,OAAOO,UAAUW,qBAAqBT,KAAKH,EAAQ9N,KAAgB2N,EAAO3N,GAAO8N,EAAO9N,GAAQ,CAAE,OAAO2N,CAAQ,CAG3e,SAASgB,GAAQC,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACfC,EAAUH,EAAKG,QACfC,EAAQb,GAAyBS,EAAMtB,IACzC,OAAoB,gBAAoB,MAAOC,GAAS,CACtD0B,MAAO,6BACPC,QAAS,cACTC,IAAKN,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DM,GAAIL,GACHD,GAAS,KAAMpC,KAAUA,GAAqB,gBAAoB,OAAQ,OAAQC,KAAYA,GAAuB,gBAAoB,SAAU,CACpJ0C,GAAI,IACJC,GAAI,IACJC,EAAG,IACHvN,KAAM,aACH4K,KAAOA,GAAkB,gBAAoB,IAAK,CACrD5K,KAAM,WACQ,gBAAoB,UAAW,CAC7CqN,GAAI,MACJC,GAAI,MACJE,GAAI,KACJC,GAAI,OACW,gBAAoB,UAAW,CAC9CJ,GAAI,MACJC,GAAI,MACJE,GAAI,KACJC,GAAI,OACW,gBAAoB,OAAQ,CAC3CC,EAAG,2EACC7C,KAAUA,GAAqB,gBAAoB,OAAQ,CAC/D7K,KAAM,UACN0N,EAAG,2DACA5C,KAAWA,GAAsB,gBAAoB,OAAQ,CAChE9K,KAAM,UACN0N,EAAG,yIACA3C,KAAQA,GAAmB,gBAAoB,IAAK,CACvD/K,KAAM,WACQ,gBAAoB,OAAQ,CAC1C0N,EAAG,qMACC1C,KAAWA,GAAsB,gBAAoB,OAAQ,CACjEhL,KAAM,UACN0N,EAAG,+EACAzC,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEjL,KAAM,UACN0N,EAAG,8EACAxC,KAAWA,GAAsB,gBAAoB,OAAQ,CAChElL,KAAM,UACN0N,EAAG,gJACAvC,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEnL,KAAM,UACN0N,EAAG,0EACAtC,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEpL,KAAM,UACN0N,EAAG,+EAEP,CACA,IC/DI,GAAO,GAAO,GAAQ,GAAI,GAAQ,GAAS,GAAKC,GAAK,GD+DrDC,GAA0B,aAAiBjB,IC9D3C,ID+DW,IC/DC,CAAC,QAAS,YAC1B,SAAS,KAAiS,OAApR,GAAWnB,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjM,OAAQgM,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAI5N,KAAO8N,EAAcN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQ9N,KAAQ2N,EAAO3N,GAAO8N,EAAO9N,GAAU,CAAE,OAAO2N,CAAQ,EAAU,GAASO,MAAMnM,KAAM8L,UAAY,CAClV,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAAkE9N,EAAK4N,EAAnED,EACzF,SAAuCG,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAA2D9N,EAAK4N,EAA5DD,EAAS,CAAC,EAAOU,EAAab,OAAOlC,KAAKwC,GAAqB,IAAKF,EAAI,EAAGA,EAAIS,EAAWzM,OAAQgM,IAAO5N,EAAMqO,EAAWT,GAAQQ,EAASE,QAAQtO,IAAQ,IAAa2N,EAAO3N,GAAO8N,EAAO9N,IAAQ,OAAO2N,CAAQ,CADhN,CAA8BG,EAAQM,GAAuB,GAAIZ,OAAOgB,sBAAuB,CAAE,IAAIC,EAAmBjB,OAAOgB,sBAAsBV,GAAS,IAAKF,EAAI,EAAGA,EAAIa,EAAiB7M,OAAQgM,IAAO5N,EAAMyO,EAAiBb,GAAQQ,EAASE,QAAQtO,IAAQ,GAAkBwN,OAAOO,UAAUW,qBAAqBT,KAAKH,EAAQ9N,KAAgB2N,EAAO3N,GAAO8N,EAAO9N,GAAQ,CAAE,OAAO2N,CAAQ,CAG3e,SAASkC,GAASjB,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACfC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IACzC,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPC,QAAS,cACTC,IAAKN,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DM,GAAIL,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,OAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CAC9I9M,KAAM,UACN0N,EAAG,+KACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChE1N,KAAM,UACN0N,EAAG,+KACA,KAAO,GAAkB,gBAAoB,IAAK,CACrD1N,KAAM,WACQ,gBAAoB,OAAQ,CAC1C0N,EAAG,iGACY,gBAAoB,SAAU,CAC7CL,GAAI,MACJC,GAAI,IACJC,EAAG,SACC,KAAW,GAAsB,gBAAoB,OAAQ,CACjEvN,KAAM,UACN0N,EAAG,kEACA,KAAY,GAAuB,gBAAoB,SAAU,CACpEL,GAAI,MACJC,GAAI,IACJC,EAAG,KACHvN,KAAM,aACH,KAAQ,GAAmB,gBAAoB,IAAK,CACvDA,KAAM,WACQ,gBAAoB,OAAQ,CAC1C0N,EAAG,+HACCC,KAAQA,GAAmB,gBAAoB,IAAK,CACxD3N,KAAM,WACQ,gBAAoB,OAAQ,CAC1C0N,EAAG,mLACC,KAAW,GAAsB,gBAAoB,OAAQ,CACjE1N,KAAM,UACN0N,EAAG,kDAEP,CACA,ICpDI,GAAO,GAAS,GAAI,GAAK,GAAK,GAAO,GAAQ,GAAQ,GDoDrD,GAA0B,aAAiBG,ICnD3C,IDoDW,ICpDC,CAAC,QAAS,YAC1B,SAAS,KAAiS,OAApR,GAAWrC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjM,OAAQgM,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAI5N,KAAO8N,EAAcN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQ9N,KAAQ2N,EAAO3N,GAAO8N,EAAO9N,GAAU,CAAE,OAAO2N,CAAQ,EAAU,GAASO,MAAMnM,KAAM8L,UAAY,CAClV,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAAkE9N,EAAK4N,EAAnED,EACzF,SAAuCG,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAA2D9N,EAAK4N,EAA5DD,EAAS,CAAC,EAAOU,EAAab,OAAOlC,KAAKwC,GAAqB,IAAKF,EAAI,EAAGA,EAAIS,EAAWzM,OAAQgM,IAAO5N,EAAMqO,EAAWT,GAAQQ,EAASE,QAAQtO,IAAQ,IAAa2N,EAAO3N,GAAO8N,EAAO9N,IAAQ,OAAO2N,CAAQ,CADhN,CAA8BG,EAAQM,GAAuB,GAAIZ,OAAOgB,sBAAuB,CAAE,IAAIC,EAAmBjB,OAAOgB,sBAAsBV,GAAS,IAAKF,EAAI,EAAGA,EAAIa,EAAiB7M,OAAQgM,IAAO5N,EAAMyO,EAAiBb,GAAQQ,EAASE,QAAQtO,IAAQ,GAAkBwN,OAAOO,UAAUW,qBAAqBT,KAAKH,EAAQ9N,KAAgB2N,EAAO3N,GAAO8N,EAAO9N,GAAQ,CAAE,OAAO2N,CAAQ,CAG3e,SAASmC,GAAYlB,EAAMC,GACzB,IAAIC,EAAQF,EAAKE,MACfC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IACzC,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPC,QAAS,cACTC,IAAKN,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DM,GAAIL,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,OAAQ,KAAY,GAAuB,gBAAoB,SAAU,CACpJO,GAAI,IACJC,GAAI,IACJC,EAAG,IACHvN,KAAM,aACH,KAAO,GAAkB,gBAAoB,IAAK,CACrDA,KAAM,WACQ,gBAAoB,OAAQ,CAC1C0N,EAAG,yEACY,gBAAoB,OAAQ,CAC3CA,EAAG,uQACC,KAAQ,GAAmB,gBAAoB,IAAK,CACxD1N,KAAM,WACQ,gBAAoB,OAAQ,CAC1C0N,EAAG,sRACY,gBAAoB,OAAQ,CAC3CA,EAAG,+DACC,KAAQ,GAAmB,gBAAoB,IAAK,CACxD1N,KAAM,WACQ,gBAAoB,OAAQ,CAC1C0N,EAAG,8OACC,KAAU,GAAqB,gBAAoB,OAAQ,CAC/D1N,KAAM,UACN0N,EAAG,gGACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChE1N,KAAM,UACN0N,EAAG,2DACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChE1N,KAAM,UACN0N,EAAG,gGACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChE1N,KAAM,UACN0N,EAAG,2DAEP,CACA,I,8BCpDI,GAAO,GDoDP,GAA0B,aAAiBI,I,IAChC,I,mBElDFC,GAAS,CACpBC,QAAS,UACTC,UAAW,UACXC,SAAU,UACVC,SAAU,UACVC,QAAS,OACTC,MAAO,UACPC,MAAO,UACPC,QAAS,UACTC,MAAO,OACPC,MAAO,OACPC,KAAM,OACNC,KAAM,OACNC,OAAQ,sBAuEV,GAnBc,CACZb,OAAAA,GACAc,MAnDmB,CACnBC,QAAS,SACTtN,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJoN,IAAK,SACLC,KAAM,OACNC,MAAO,UA4CPC,UA1BuB,CACvBJ,QAHmB,GAInBvN,GAJmB,GAIA,GACnBC,GAAI2N,KACJ1N,GANmB,GAOnBC,GAPmB,GAOA,KAsBnB0N,aAnC0B,CAC1BC,QAAS,6BACTP,QAAS,qBACTQ,MAAO,qBAiCPC,QA3CqB,CACrBT,QAAQ,aAAD,OAAef,GAAOa,QAC7BY,MAAO,kBACPC,IAAI,cAAD,OAAgB1B,GAAOa,QAC1Bc,KAAM,QAwCNC,WArBiB,CACjBC,QAAQC,EAAAA,EAAAA,IAAS,iGAMjBC,MAAMD,EAAAA,EAAAA,IAAS,gGAGSE,EAAAA,GAAAA,IAAO,GAAKhC,GAAOI,a,qBCtDhC6B,GAAOC,KAAAA,IAAM,iFAMbC,GAASD,KAAAA,OAAS,0GAMlBE,GAAQF,KAAAA,IAAM,0GAQdG,GAAUH,KAAAA,KAAO,sHAQjBI,GAAQJ,KAAAA,IAAM,+GAMdK,GAAWL,KAAAA,IAAM,6DAIjBM,GAAgBN,KAAAA,IAAM,uIAO/B,SAACO,GAAC,OAAMA,EAAEC,YAAc,eAAiB,EAAE,IAGlCC,GAAUT,KAAAA,KAAO,yCCzCjBU,GACX,SAAwB3S,GAAM,OAC9B,SACE4S,GAA0D,OAE5D,SAAC5D,GACC,IAAM6D,EAAyB,oBAATD,EAAsBA,EAAK5D,GAAS4D,EAE1D,OAAO5D,EAAM8D,MAAM9S,GAAK6S,EAC1B,CAAE,CAAD,EAEUE,GAAWJ,GAAa,UACxBK,GAAYL,GAAa,SAEzBM,IADcN,GAAa,aACfA,GAAa,YAEzBO,IADgBP,GAAa,gBACdA,GAAa,eAGzC,GAAeQ,EAAM,GHlCjB,GAAY,CAAC,QAAS,WAC1B,SAAS,KAAiS,OAApR,GAAW3F,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjM,OAAQgM,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAI5N,KAAO8N,EAAcN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQ9N,KAAQ2N,EAAO3N,GAAO8N,EAAO9N,GAAU,CAAE,OAAO2N,CAAQ,EAAU,GAASO,MAAMnM,KAAM8L,UAAY,CAClV,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAAkE9N,EAAK4N,EAAnED,EACzF,SAAuCG,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAA2D9N,EAAK4N,EAA5DD,EAAS,CAAC,EAAOU,EAAab,OAAOlC,KAAKwC,GAAqB,IAAKF,EAAI,EAAGA,EAAIS,EAAWzM,OAAQgM,IAAO5N,EAAMqO,EAAWT,GAAQQ,EAASE,QAAQtO,IAAQ,IAAa2N,EAAO3N,GAAO8N,EAAO9N,IAAQ,OAAO2N,CAAQ,CADhN,CAA8BG,EAAQM,GAAuB,GAAIZ,OAAOgB,sBAAuB,CAAE,IAAIC,EAAmBjB,OAAOgB,sBAAsBV,GAAS,IAAKF,EAAI,EAAGA,EAAIa,EAAiB7M,OAAQgM,IAAO5N,EAAMyO,EAAiBb,GAAQQ,EAASE,QAAQtO,IAAQ,GAAkBwN,OAAOO,UAAUW,qBAAqBT,KAAKH,EAAQ9N,KAAgB2N,EAAO3N,GAAO8N,EAAO9N,GAAQ,CAAE,OAAO2N,CAAQ,CAG3e,SAASyF,GAAUxE,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACfC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IACzC,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPC,QAAS,cACTC,IAAKN,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DM,GAAIL,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,OAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CAC9IY,EAAG,iXAEP,CACA,I,SIrBI,GAAO,GAAS,GAAO,GAAQ2D,GAAU,GAAQC,GAAUC,GJqB3D,GAA0B,aAAiBH,I,IAChC,I,SKXFI,GAAavB,KAAGwB,GAAHxB,CAAa,sCAI1ByB,GAAcP,GAAOQ,IAAG,yEAKxBC,GAAcT,GAAO9I,EAAC,+jBAChB2I,GAAU,SAClBD,GAAS,aACJA,GAAS,SAMrBW,GAKYT,GAAU,WAIpBS,GAEaR,GAAa,WAyBhC,GAdyB,WACvB,OACE,WAACU,GAAW,CACVjG,OAAO,SACPkG,IAAI,aACJC,KAAK,0CACL,aAAW,mCAAkC,WAE7C,UAACN,GAAU,KACX,UAACE,GAAW,sCAGlB,ED9DI,GAAY,CAAC,QAAS,WAC1B,SAAS,KAAiS,OAApR,GAAWlG,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjM,OAAQgM,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAI5N,KAAO8N,EAAcN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQ9N,KAAQ2N,EAAO3N,GAAO8N,EAAO9N,GAAU,CAAE,OAAO2N,CAAQ,EAAU,GAASO,MAAMnM,KAAM8L,UAAY,CAClV,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAAkE9N,EAAK4N,EAAnED,EACzF,SAAuCG,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAA2D9N,EAAK4N,EAA5DD,EAAS,CAAC,EAAOU,EAAab,OAAOlC,KAAKwC,GAAqB,IAAKF,EAAI,EAAGA,EAAIS,EAAWzM,OAAQgM,IAAO5N,EAAMqO,EAAWT,GAAQQ,EAASE,QAAQtO,IAAQ,IAAa2N,EAAO3N,GAAO8N,EAAO9N,IAAQ,OAAO2N,CAAQ,CADhN,CAA8BG,EAAQM,GAAuB,GAAIZ,OAAOgB,sBAAuB,CAAE,IAAIC,EAAmBjB,OAAOgB,sBAAsBV,GAAS,IAAKF,EAAI,EAAGA,EAAIa,EAAiB7M,OAAQgM,IAAO5N,EAAMyO,EAAiBb,GAAQQ,EAASE,QAAQtO,IAAQ,GAAkBwN,OAAOO,UAAUW,qBAAqBT,KAAKH,EAAQ9N,KAAgB2N,EAAO3N,GAAO8N,EAAO9N,GAAQ,CAAE,OAAO2N,CAAQ,CAG3e,SAASoG,GAAOnF,EAAMC,GACpB,IAAIC,EAAQF,EAAKE,MACfC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IACzC,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPC,QAAS,cACTC,IAAKN,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DM,GAAIL,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,OAAQ,KAAY,GAAuB,gBAAoB,SAAU,CACpJO,GAAI,MACJC,GAAI,IACJC,EAAG,IACHvN,KAAM,aACH,KAAU,GAAqB,gBAAoB,OAAQ,CAC9DA,KAAM,UACN0N,EAAG,6HACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChE1N,KAAM,UACN0N,EAAG,kHACA2D,KAAaA,GAAwB,gBAAoB,SAAU,CACtEhE,GAAI,IACJC,GAAI,IACJC,EAAG,IACHvN,KAAM,aACH,KAAW,GAAsB,gBAAoB,OAAQ,CAChEA,KAAM,UACN0N,EAAG,kGACA4D,KAAaA,GAAwB,gBAAoB,SAAU,CACtEjE,GAAI,MACJC,GAAI,IACJC,EAAG,KACHvN,KAAM,aACHuR,KAAaA,GAAwB,gBAAoB,SAAU,CACtElE,GAAI,MACJC,GAAI,MACJC,EAAG,KACHvN,KAAM,aAEV,CACA,IEhDI,GAAO,GAAO,GAAQ,GAAQ,GFgD9B,GAA0B,aAAiB+R,IE/C3C,IFgDW,IEhDC,CAAC,QAAS,YAC1B,SAAS,KAAiS,OAApR,GAAWvG,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjM,OAAQgM,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAI5N,KAAO8N,EAAcN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQ9N,KAAQ2N,EAAO3N,GAAO8N,EAAO9N,GAAU,CAAE,OAAO2N,CAAQ,EAAU,GAASO,MAAMnM,KAAM8L,UAAY,CAClV,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAAkE9N,EAAK4N,EAAnED,EACzF,SAAuCG,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,CAAC,EAAG,IAA2D9N,EAAK4N,EAA5DD,EAAS,CAAC,EAAOU,EAAab,OAAOlC,KAAKwC,GAAqB,IAAKF,EAAI,EAAGA,EAAIS,EAAWzM,OAAQgM,IAAO5N,EAAMqO,EAAWT,GAAQQ,EAASE,QAAQtO,IAAQ,IAAa2N,EAAO3N,GAAO8N,EAAO9N,IAAQ,OAAO2N,CAAQ,CADhN,CAA8BG,EAAQM,GAAuB,GAAIZ,OAAOgB,sBAAuB,CAAE,IAAIC,EAAmBjB,OAAOgB,sBAAsBV,GAAS,IAAKF,EAAI,EAAGA,EAAIa,EAAiB7M,OAAQgM,IAAO5N,EAAMyO,EAAiBb,GAAQQ,EAASE,QAAQtO,IAAQ,GAAkBwN,OAAOO,UAAUW,qBAAqBT,KAAKH,EAAQ9N,KAAgB2N,EAAO3N,GAAO8N,EAAO9N,GAAQ,CAAE,OAAO2N,CAAQ,CAG3e,SAASqG,GAAQpF,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACfC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IACzC,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPC,QAAS,cACTC,IAAKN,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DM,GAAIL,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,OAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CAC9I9M,KAAM,UACN0N,EAAG,4EACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChE1N,KAAM,UACN0N,EAAG,kCACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChE1N,KAAM,UACN0N,EAAG,oDACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChE1N,KAAM,UACN0N,EAAG,qDAEP,CACA,I,mDAAI,GAA0B,aAAiBsE,ICtBzCC,IDuBS,ICvBM,WAAH,OAChB,kBACEhF,MAAM,6BACNiF,MAAO,CAAEC,OAAQ,OAAQC,MAAO,QAChCpS,KAAK,OACLkN,QAAQ,YACRmF,OAAO,eAAc,WAErB,kBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACb9E,EAAE,iIACF+E,SAAS,aAEX,kBACEH,cAAc,QACdC,eAAe,QACfC,YAAa,EACb9E,EAAE,2CAEA,GAGFgF,GAAc,WAAH,OACf,iBACEzF,MAAM,6BACNiF,MAAO,CAAEC,OAAQ,OAAQC,MAAO,QAChCpS,KAAK,OACLkN,QAAQ,YACRmF,OAAO,eAAc,UAErB,kBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACb9E,EAAE,4LAEA,EAGFiF,GAAaxB,GAAOQ,IAAIiB,MAAM,CAAEC,KAAM,UAAzB1B,CAAoC,+CAUvD,GAN+B,SAACnE,GAAK,OACnC,UAAC2F,GAAU,CAACG,QAAS,kBAAM9F,EAAM+F,SAASC,QAAQhG,EAAMiG,IAAI,EAAC,SAC1DjG,EAAMiG,IAAK,UAACP,GAAW,KAAM,UAACT,GAAY,KAChC,EC5CTiB,GAAM/B,GAAOgC,GAAPhC,CAAe,4DAKrBiC,GAAOjC,GAAOkC,GAAPlC,CAAgB,4DAKvBmC,GAASnC,GAAOQ,IAAG,2SACNX,GAAU,UACP,SAACR,GAAC,OACpBA,EAAE+C,OAASxC,GAAS,OAATA,CAAiBP,IAAKT,EAAAA,GAAAA,IAAO,GAAKgB,GAAS,OAATA,CAAiBP,GAAG,GASrDS,IAAU,SAACT,GAAC,OAAMA,EAAE+C,OAAS,QAAU,SAAS,KAGnDC,GAASrC,GAAOsC,OAAM,mTAMb,SAACjD,GACnB,IAAMkD,EAAQ3C,GAASP,EAAEkD,MAAX3C,CAAkBP,GAChC,OAAOA,EAAE+C,OAASG,GAAQ3D,EAAAA,GAAAA,IAAO,GAAK2D,EACxC,IAGE,SAAClD,GAAC,mCACaA,EAAEmD,KAAI,+CACHnD,EAAEmD,KAAI,0BAEZ1C,IAAU,SAACT,GAAC,OAAMA,EAAE+C,OAAS,QAAU,SAAS,KAUnDK,GAAc3D,KAAAA,IAAM,mCAIpBD,GAAOC,KAAAA,IAAM,qIAoD1B,GAtCgC,SAACjD,GAAK,OACpC,UAAC,GAAI,WACH,WAACmD,GAAK,YACJ,UAAC,GAAM,KACP,2BACE,UAAC,GAAW,CACV8C,GAAIjG,EAAM6G,aACVd,SAAU/F,EAAMvF,0BAGpB,WAACmM,GAAW,YACV,UAACJ,GAAM,CACLG,KAAK,OACLD,MAAM,QACNH,OAA2B,WAAnBvG,EAAMtI,SACdoO,QAAS9F,EAAMxF,iBACf,aAAW,mBAAkB,UAE7B,UAAC8L,GAAM,CAACC,OAA2B,WAAnBvG,EAAMtI,SAAsB,UAC1C,UAAC0O,GAAI,SAGT,UAACI,GAAM,CACLG,KAAK,QACLD,MAAM,QACNH,OAA2B,WAAnBvG,EAAMtI,SACdoO,QAAS9F,EAAMxF,iBACf,aAAW,mBAAkB,UAE7B,UAAC8L,GAAM,CAACC,OAA2B,WAAnBvG,EAAMtI,SAAsB,UAC1C,UAACwO,GAAG,eAKP,E,WCtGIY,GAAO3C,G,QAAO4C,EAAP5C,CAAgB,mGAGrBD,GAAa,WAGfkC,GAAOjC,GAAOkC,GAAPlC,CAAgB,mGAGrBD,GAAa,WAGf8C,GAAwC,CACnD,EAAG,QACH,EAAG,OACH,EAAG,QACH,EAAG,MACH,EAAG,WACH,EAAG,YACH,EAAG,UACH,EAAG,SACH,EAAG,cASCC,GAAoB9C,GAAOsC,OAAM,qeAMvBxC,IAAU,YAAW,SAARvO,SAA2B,OAAS,SAAS,IACvDsO,GAAU,MAGbD,IAAS,gBAAGrO,EAAQ,EAARA,SAAUT,EAAI,EAAJA,KAAMsR,EAAM,EAANA,OAAM,OAC9C7Q,EAAqB,SAATT,GAAmBsR,EAAS,WAAa,QAAW,MAAM,KAQ9D,YAAS,SAANA,OAAuB,OAAS,SAAS,IACpD,gBAAGW,EAAQ,EAARA,SAAQ,MAES,kBAAbA,GACHC,EAAAA,EAAAA,IAAG,yDACQH,GAAcE,SAEzBpP,CAAS,IAqCjB,GA9BkC,SAACkI,GACjC,IAAMoH,GAAUlN,EAAAA,EAAAA,UAAQ,WACtB,GAAI8F,EAAMvJ,QACR,OAAO,UAAC,GAAI,IAEd,IAAKuJ,EAAMtK,UAA2B,SAAfsK,EAAM/K,KAC3B,OAAO,KAGT,OAAQ+K,EAAM/K,MACZ,IAAK,QACH,OAAO+K,EAAM/J,iBACf,IAAK,OACH,OAAO,UAAC6Q,GAAI,IAElB,GAAG,CAAC9G,IAEEqH,EdzDD,WAAsD,IAAhCC,EAAQ,uDAAG,WAAO,EAAGC,EAAE,uDAAG,IACrD,GAA8BC,EAAAA,EAAAA,WAAS,GAAM,eAAtCC,EAAO,KAAEC,EAAU,KACpBC,GAAeC,EAAAA,EAAAA,QAAO,GAEtBC,GAAgBxN,EAAAA,EAAAA,cAAY,WAChC0B,OAAOI,aAAawL,EAAaG,QACnC,GAAG,CAACH,IAEEI,GAAQ1N,EAAAA,EAAAA,cAAY,WACxBqN,GAAW,EACb,GAAG,IAEGM,GAAO3N,EAAAA,EAAAA,cAAY,WACvBqN,GAAW,EACb,GAAG,IAsBH,OApBA5N,EAAAA,EAAAA,YACE,WAQE,OAPI2N,EACFE,EAAaG,QAAU/L,OAAOC,WAAWsL,EAAUC,GAEnDM,IAIKA,CACT,GAOA,CAACJ,IAGI,CACLQ,YAAaF,EACbG,UAAWF,EACXG,aAAcH,EACdI,aAAcL,EACdM,WAAYL,EACZM,YAAaT,EAEjB,CcayBU,CAAavI,EAAMwI,YAAa,KAEvD,OACE,UAACvB,IAAiB,2BACZwB,EAAAA,GAAAA,GAAK,CAAC,eAAgBzI,IACtBqH,GAAc,IAClBd,OAAQvG,EAAMuG,OAAO,SAEpBa,IAGP,EClGasB,GAAgBzF,KAAAA,IAAM,4CAItB0F,GAAU1F,KAAAA,IAAM,mCA4C7B,GAjCiC,SAACjD,GAChC,IAAM4I,GAAcvO,EAAAA,EAAAA,cAClB,SAACvI,GAAgB,OAAK,kBAAMkO,EAAM6I,YAAY/W,EAAK,IACnD,CAACkO,IAGG8I,GAAkBzO,EAAAA,EAAAA,cACtB,SAACvI,GAAgB,OAAK,kBAAMkO,EAAM+I,gBAAgBjX,EAAK,IACvD,CAACkO,IAGH,OACE,UAAC0I,GAAa,UACX1I,EAAM3J,KAAK5C,KAAI,SAACzB,EAAKS,GAAC,OACrB,UAACkW,GAAO,UACL3W,EAAIyB,KAAI,SAAC3B,EAAMY,GAAC,eACf,UAAC,IAAQ,gBAEPoT,QAAS8C,EAAY9W,GACrB0W,YAAaM,EAAgBhX,IACzBA,EAAKN,OAAK,IACd+U,OACEzU,EAAKE,OAAwB,QAArB,EAAKgO,EAAMnI,kBAAU,aAAhB,EAAkB7F,MAC/BF,EAAKI,UAA2B,QAArB,EAAK8N,EAAMnI,kBAAU,aAAhB,EAAkB3F,UACnC,eAPYQ,GAQb,KACF,cAZiBD,GAaX,KAIlB,ECnDauQ,GAAOmB,GAAOQ,IAAG,qSAEnBZ,GAAS,WAIJA,GAAS,UACNC,GAAU,OAQhBgF,GAAoB7E,GAAOQ,IAAG,qIAIhCZ,GAAS,YAIPkF,GAAe9E,GAAOQ,IAAG,6OAGnBX,GAAU,WAKvBD,GAAS,YACTA,GAAS,aAAe,SAACP,GAAC,OAAKA,EAAEvJ,QAAQ,GACzC8J,GAAS,UAAY,SAACP,GAAC,OAAKA,EAAEvJ,QAAQ,GACtC8J,GAAS,UAIFmF,GAAe/E,GAAOgC,GAAPhC,CAAe,yFAe3C,GAT6D,SAACnE,GAAK,OACjE,WAAC,GAAI,YACH,WAACgJ,GAAiB,YAChB,UAACE,GAAY,IAAG,IAAElJ,EAAMjI,UAE1B,UAACkR,GAAY,CAAChP,SAAU+F,EAAM/F,aACzB,EC3BHkP,GAAgD,CACpDC,KAAK,UAAC,GAAY,IAClBC,KAAK,UAAC,GAAQ,IACdC,MAAM,UAAC,GAAS,KAGZC,GAA+C,SAACvJ,GAAK,OACzDmJ,GAAanJ,EAAM7H,OAAQ,EAEvBqR,GAAQ,WAAO,EAEd,SAASC,MhBgED,WAA6D,IAAnCC,EAAQ,uDAAGrL,IAClDvE,EAAAA,EAAAA,YAAU,WACR0D,IACA,IAAMmM,EAAa5N,OAAO6N,YAAYpM,EAAoBkM,GAE1D,OAAO,WACL3N,OAAO8N,cAAcF,EACvB,CACF,GAAG,CAACD,GACN,CgBxEEI,CAAiBzL,IjB8CZ,SAA6CiJ,GAClD,IAAMyC,GAAgB1P,EAAAA,EAAAA,cACpB,SAAC2P,GACCA,EAAEC,iBACF3C,GACF,GACA,CAACA,KAGHxN,EAAAA,EAAAA,YAAU,WAGR,OAFAiC,OAAOmO,iBAAiB,cAAeH,GAEhC,WACLhO,OAAOoO,oBAAoB,cAAeJ,EAC5C,CACF,GAAG,CAACA,GACN,CiB7DEK,CAAcZ,IAEd,MAA4B3O,IAApBvC,EAAK,EAALA,MAAOoC,EAAQ,EAARA,SAEf,OACE,WAACsI,GAAI,YACH,UAACE,GAAM,WACL,WAACC,GAAK,YACJ,WAACE,GAAK,sBAEJ,UAACD,GAAO,UAAElG,EAAAA,EAAOC,iBAEnB,UAACoG,GAAa,CACZE,YAAkC,SAArBnL,EAAMb,WACnBqO,QAASpL,EAASH,cAAc,UAEhC,UAACgP,GAAU,CAACpR,OAAQG,EAAMb,gBAE5B,UAAC6L,GAAQ,WACP,UAAC,GAAK,CAACvL,MAAOO,EAAMP,MAAOkC,SAAU3B,EAAM2B,mBAKjD,UAACyJ,GAAO,WACN,UAAC,GAAa,CACZrN,KAAMiC,EAAMjC,KACZwB,WAAYS,EAAMT,WAClBgR,YAAanO,EAASN,YACtB2O,gBAAiBrO,EAASJ,qBAI9B,gBAAG+P,UAAU,UAAS,UACnB/R,EAAMX,UAAS,MAAKW,EAAMV,cAG7B,UAAC,GAAM,CACL4C,iBAAkBE,EAASF,iBAC3BC,qBAAsBC,EAASD,qBAC/B/C,SAAUY,EAAMZ,SAChBmP,aAAcvO,EAAMN,cAI5B,CAEe,SAASsS,KACtB,OACE,UAAC,KAAa,CAACxG,MAAOA,GAAM,UAC1B,UAACnJ,EAAiB,WAChB,UAAC8O,GAAG,OAIZ,C","sources":["lib/utils.ts","lib/Grid.ts","lib/game.ts","lib/sound.ts","lib/state.ts","lib/StorageAdapter.ts","lib/storage.ts","lib/contexts.ts","lib/hooks.ts","lib/useUpdateChecker.ts","assets/cool.svg","assets/skull.svg","assets/thinking.svg","assets/github.svg","ui/theme.ts","ui/components/core.tsx","ui/styled.ts","assets/eye.svg","ui/components/Github.tsx","assets/flag.svg","ui/components/ToggleSound.tsx","ui/components/Footer.tsx","ui/components/GridTile.tsx","ui/components/Grid.tsx","ui/components/Score.tsx","App.tsx"],"sourcesContent":["export const isBetween = (min: number, max: number, value: number) =>\n  value >= min && value < max;\n\nexport const memoize = <T extends (...args: any[]) => any>(fn: T) => {\n  const cache = new Map();\n  return ((...args: any[]) => {\n    const key = JSON.stringify(args);\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    const result = fn(...args);\n    cache.set(key, result);\n    return result;\n  }) as T;\n};\n","import { isBetween, memoize } from \"./utils\";\nexport interface Coordinates {\n  row: number;\n  column: number;\n}\n\nexport interface Dimensions {\n  rows: number;\n  columns: number;\n}\n\nexport type FillFn<T> = (cell: Coordinates, previousValue?: T) => T;\n\nexport interface Cell<T> extends Coordinates {\n  value: T;\n}\n\nexport type Row<T> = Cell<T>[];\n\nexport type Matrix<T> = Row<T>[];\n\nexport const isIndexOutOfBounds = (value: number, gridSize: number) =>\n  !isBetween(0, gridSize, value);\n\nexport const isOutOfBounds = (\n  cell: { row: number; column: number },\n  dimensions: Dimensions\n) =>\n  isIndexOutOfBounds(cell.row, dimensions.rows) ||\n  isIndexOutOfBounds(cell.column, dimensions.columns);\n\nexport default class Grid<T = undefined> {\n  private _dimensions: Dimensions = {\n    rows: 0,\n    columns: 0,\n  };\n  private _grid: Matrix<T> = [];\n\n  constructor(seed: Matrix<T>);\n  constructor(dimensions: Dimensions, fill: FillFn<T> | T);\n  constructor(...args: any[]) {\n    if (args.length === 1 && Array.isArray(args[0])) {\n      this._grid = args[0] as Matrix<T>;\n\n      const dimensions: Dimensions = {\n        rows: this._grid.length,\n        columns: this._grid[0].length,\n      };\n\n      this._dimensions = dimensions;\n\n      return this;\n    }\n\n    if (typeof args[0] === \"object\" && args[0] !== null) {\n      const dimensions = args[0] as Dimensions;\n      const fill = args[1] as FillFn<T>;\n\n      const rows: Matrix<T> = [];\n\n      for (let y = 0; y < dimensions.rows; y++) {\n        const row: Row<T> = [];\n\n        for (let x = 0; x < dimensions.columns; x++) {\n          const value =\n            typeof fill === \"function\"\n              ? (fill as FillFn<T>)({\n                  row: y,\n                  column: x,\n                })\n              : fill;\n\n          row.push({ row: y, column: x, value });\n        }\n\n        rows.push(row);\n      }\n\n      this._dimensions = dimensions;\n      this._grid = rows;\n\n      return this;\n    }\n\n    throw new Error(`Invalid argument: ${args[0]}`);\n  }\n\n  public static make<T>(seed: Matrix<T>): Grid<T>;\n  public static make<T>(dimensions: Dimensions, fill: FillFn<T> | T): Grid<T>;\n  public static make<T>(...args: any[]): Grid<T> {\n    return new Grid(args[0], args[1]);\n  }\n\n  public static from<U>(matrix: Matrix<U>) {\n    return new Grid(matrix);\n  }\n\n  public withSeed(matrix: Matrix<T>) {\n    this._grid = matrix;\n\n    return this;\n  }\n\n  public get snapshot() {\n    return this._grid.slice();\n  }\n\n  public updateCell(\n    { row, column }: Coordinates,\n    fill: FillFn<T> | T\n  ): Grid<T> {\n    const previous = this.getCell({ row, column });\n\n    const value =\n      typeof fill === \"function\"\n        ? (fill as FillFn<T>)({ row, column }, previous.value)\n        : fill;\n\n    this._grid[row][column] = { row, column, value };\n\n    return this;\n  }\n\n  public getCell({ row, column }: Coordinates) {\n    if (!isOutOfBounds({ row, column }, this._dimensions)) {\n      return this._grid[row][column];\n    }\n\n    throw new Error(`Invalid cell coordinates: row: ${row}; column: ${column}`);\n  }\n\n  public getNeighborsCoordinates = memoize(({ row, column }: Coordinates) => {\n    const coordinates: Coordinates[] = [];\n\n    for (let y = -1; y <= 1; y++) {\n      for (let x = -1; x <= 1; x++) {\n        if (y === 0 && x === 0) {\n          continue;\n        }\n\n        coordinates.push({\n          row: row + y,\n          column: column + x,\n        });\n      }\n    }\n\n    return coordinates;\n  });\n\n  public getCellNeighbors({ row, column }: Coordinates): Row<T> {\n    const coordinates = this.getNeighborsCoordinates({ row, column });\n\n    return coordinates.reduce<Row<T>>((acc, cell) => {\n      if (!isOutOfBounds(cell, this._dimensions)) {\n        return [...acc, this.getCell(cell)];\n      }\n      return acc;\n    }, []);\n  }\n\n  public map<U>(fn: (value: T, cell: Cell<T>, self: Grid<T>) => U) {\n    const nextMatrix: Matrix<U> = this._grid.map((cells) =>\n      cells.map((cell) => ({ ...cell, value: fn(cell.value, cell, this) }))\n    );\n\n    return Grid.from(nextMatrix);\n  }\n}\n","import { flatten, assoc } from \"ramda\";\n\nimport Grid, { Matrix, Cell, Dimensions, FillFn } from \"./Grid\";\n\nexport const CHANCE_OF_MINES_PER_LEVEL = {\n  easy: 15,\n  medium: 30,\n  hard: 45,\n  ultra: 60,\n  god: 80,\n} as const;\n\nexport type Level = keyof typeof CHANCE_OF_MINES_PER_LEVEL;\n\nexport const NEXT_LEVEL: Record<Level, Level> = {\n  easy: \"medium\",\n  medium: \"hard\",\n  hard: \"ultra\",\n  ultra: \"god\",\n  god: \"easy\",\n};\n\nexport type TileKind = \"safe\" | \"empty\" | \"mine\";\n\nconst getDimensions = (rows: number) => ({\n  rows,\n  columns: Math.floor(rows * 1.5),\n});\n\nexport const BOARD_SIZES = {\n  // increment following the same proportion\n  xs: getDimensions(10), // 10 x 15\n  sm: getDimensions(15), // 15 x 22.5\n  md: getDimensions(20), // 20 x 30\n  lg: getDimensions(25), // 25 x 37.5\n  xl: getDimensions(30), // 30 x 45\n} as const;\n\nexport type BoardSize = keyof typeof BOARD_SIZES;\n\nexport const NEXT_BOARD_SIZE: Record<BoardSize, BoardSize> = {\n  xs: \"sm\",\n  sm: \"md\",\n  md: \"lg\",\n  lg: \"xl\",\n  xl: \"xs\",\n};\n\nexport type Tile = {\n  kind: TileKind;\n  revealed: boolean;\n  surroundingMines: number;\n  defused?: boolean;\n};\n\nexport type GameStatus = \"new\" | \"over\" | \"won\";\n\nexport type Mode = \"reveal\" | \"defuse\";\n\nexport const revealTile = (tile: Tile): Tile => assoc(\"revealed\", true, tile);\n\nexport const revealMine = (tile: Tile) =>\n  tile.kind === \"mine\" ? revealTile(tile) : tile;\n\nexport function getNextGrid(matrix: Matrix<Tile>, cellClicked: Cell<Tile>) {\n  const nextGrid = Grid.from(matrix);\n\n  const { value: tile } = cellClicked;\n\n  // reveal clicked tile\n  nextGrid.updateCell(cellClicked, revealTile(tile));\n\n  if (tile.kind !== \"safe\") {\n    return nextGrid;\n  }\n\n  nextGrid.getCellNeighbors(cellClicked).forEach((neighborCell) => {\n    const { value: neighbor } = neighborCell;\n\n    // skip revealed tiles\n    if (neighbor.revealed) {\n      return;\n    }\n\n    switch (neighbor.kind) {\n      case \"empty\": {\n        nextGrid.updateCell(neighborCell, revealTile(neighbor));\n        break;\n      }\n      case \"safe\":\n        return getNextGrid(nextGrid.snapshot, neighborCell);\n    }\n  });\n\n  return nextGrid;\n}\n\nexport const isMine = (cell: Cell<Tile>) => cell.value.kind === \"mine\";\n\nexport const makeNewGrid = (dimensions: Dimensions, chanceOfMines: number) => {\n  const fill: FillFn<Tile> = () => ({\n    kind: Math.random() >= chanceOfMines / 100 ? \"empty\" : \"mine\",\n    surroundingMines: 0,\n    revealed: false,\n  });\n\n  return Grid.make<Tile>(dimensions, fill).map<Tile>((tile, cell, self) => {\n    if (tile.kind !== \"mine\") {\n      const neighbors = self.getCellNeighbors(cell);\n      const mines = neighbors.filter(isMine);\n      const surroundingMines = mines.length;\n\n      return {\n        ...tile,\n        surroundingMines,\n        kind: surroundingMines ? \"empty\" : \"safe\",\n      };\n    }\n\n    return tile;\n  });\n};\n\nexport function didWin(grid: Grid<Tile>) {\n  const cells = flatten(grid.snapshot);\n\n  const summary = cells.reduce(\n    (acc, cell) => ({\n      flagged: cell.value.defused ? acc.flagged + 1 : acc.flagged,\n      revealed: cell.value.revealed ? acc.revealed + 1 : acc.revealed,\n      mines: cell.value.kind === \"mine\" ? acc.mines + 1 : acc.mines,\n    }),\n    { flagged: 0, revealed: 0, mines: 0 }\n  );\n\n  return (\n    summary.mines === summary.flagged &&\n    summary.revealed + summary.flagged === cells.length\n  );\n}\n","export type SoundEffectKind =\n  | \"explosion\"\n  | \"disabled\"\n  | \"defuse\"\n  | \"reveal\"\n  | \"streak\"\n  | \"win\";\n\nexport async function playSoundEffect(kind: SoundEffectKind) {\n  const element = document.querySelector(\n    `#sound-fx-${kind}`\n  ) as HTMLAudioElement;\n\n  if (!element) {\n    throw new Error(`Invalid sound effect: ${kind}`);\n  }\n\n  try {\n    await element.play();\n  } catch (error) {\n    console.log(`Failed to play sound effect: ${kind}`);\n  }\n}\n","import { Reducer } from \"react\";\nimport { flatten } from \"ramda\";\n\nimport * as Game from \"lib/game\";\nimport Grid, { Cell, Matrix } from \"lib/Grid\";\n\nimport { playSoundEffect } from \"./sound\";\n\nexport const getMineCount = (grid: Matrix<Game.Tile>) =>\n  grid.reduce(\n    (total, row) =>\n      row.reduce(\n        (mines, cell) => (cell.value.kind === \"mine\" ? mines + 1 : mines),\n        total\n      ),\n    0\n  );\n\nexport interface State {\n  score: number;\n  gameStatus: Game.GameStatus;\n  gameMode: Game.Mode;\n  gameLevel: Game.Level;\n  boardSize: Game.BoardSize;\n  mineCount: number;\n  activeCell?: Cell<Game.Tile>;\n  grid: Matrix<Game.Tile>;\n  enableSFX?: boolean;\n}\n\nexport interface CellClickPayload {\n  cell: Cell<Game.Tile>;\n  mode?: Game.Mode;\n}\n\nexport type Action<T extends string, P = undefined> = P extends undefined\n  ? { type: T }\n  : { type: T; payload: P };\n\nexport type Actions =\n  | Action<\"RESET\">\n  | Action<\"TOGGLE_GAME_MODE\">\n  | Action<\"TOGGLE_SOUND_EFFECTS\">\n  | Action<\"TOGGLE_CELL\", CellClickPayload>;\n\nexport const DEFAULT_GAME_LEVEL: Game.Level = \"easy\";\n\nexport const DEFAULT_BOARD_SIZE: Game.BoardSize = \"xs\";\n\nconst INITIAL_GRID = Game.makeNewGrid(\n  { rows: 20, columns: 30 },\n  Game.CHANCE_OF_MINES_PER_LEVEL[DEFAULT_GAME_LEVEL]\n).snapshot;\n\nexport const INITIAL_STATE: State = {\n  gameStatus: \"new\",\n  gameMode: \"reveal\",\n  gameLevel: DEFAULT_GAME_LEVEL,\n  boardSize: DEFAULT_BOARD_SIZE,\n  activeCell: undefined,\n  score: 0,\n  grid: INITIAL_GRID,\n  enableSFX: false,\n  mineCount: getMineCount(INITIAL_GRID),\n};\n\nconst isGameStatus =\n  (statuses: Game.GameStatus[]) => (status: Game.GameStatus) =>\n    statuses.includes(status);\n\nconst isFinalStatus = isGameStatus([\"won\", \"over\"]);\n\nexport const reducer: Reducer<State, Actions> = (state, action) => {\n  switch (action.type) {\n    case \"TOGGLE_GAME_MODE\":\n      return {\n        ...state,\n        gameMode: state.gameMode === \"defuse\" ? \"reveal\" : \"defuse\",\n      };\n    case \"TOGGLE_SOUND_EFFECTS\":\n      return {\n        ...state,\n        enableSFX: !state.enableSFX,\n      };\n    case \"RESET\": {\n      if (!isFinalStatus(state.gameStatus)) {\n        return state;\n      }\n\n      const nextGrid = Game.makeNewGrid(\n        Game.BOARD_SIZES[state.boardSize],\n        Game.CHANCE_OF_MINES_PER_LEVEL[state.gameLevel]\n      ).snapshot;\n\n      return {\n        ...INITIAL_STATE,\n        grid: nextGrid,\n        gameLevel: state.gameLevel,\n        boardSize: state.boardSize,\n        mineCount: getMineCount(nextGrid),\n      };\n    }\n    case \"TOGGLE_CELL\": {\n      const { cell, mode } = action.payload;\n\n      if (isFinalStatus(state.gameStatus)) {\n        return state;\n      }\n\n      const { value: tile } = cell;\n      const gameMode = mode ?? state.gameMode;\n      const partialNextState = { ...state, activeCell: action.payload.cell };\n\n      if (tile.revealed || tile.defused) {\n        return partialNextState;\n      }\n\n      switch (gameMode) {\n        case \"defuse\": {\n          if (tile.kind !== \"mine\") {\n            // reveal mines\n            const nextGrid = Grid.from(state.grid).updateCell(cell, {\n              ...tile,\n              revealed: true,\n            });\n\n            if (state.enableSFX) {\n              playSoundEffect(\"disabled\");\n            }\n\n            return {\n              ...partialNextState,\n              grid: nextGrid.map(Game.revealMine).snapshot,\n              gameStatus: \"over\",\n            };\n          }\n\n          if (state.enableSFX) {\n            playSoundEffect(\"defuse\");\n          }\n\n          const nextGrid = Grid.from(state.grid).updateCell(cell, {\n            ...tile,\n            defused: !tile.defused,\n          });\n\n          const didWin = Game.didWin(nextGrid);\n\n          if (didWin && state.enableSFX) {\n            playSoundEffect(\"win\");\n          }\n\n          return {\n            ...partialNextState,\n            grid: nextGrid.snapshot,\n            gameStatus: didWin ? \"won\" : state.gameStatus,\n            score: state.score + 1,\n            gameLevel: didWin\n              ? Game.NEXT_LEVEL[state.gameLevel]\n              : state.gameLevel,\n            boardSize: didWin\n              ? Game.NEXT_BOARD_SIZE[state.boardSize]\n              : state.boardSize,\n          };\n        }\n        case \"reveal\": {\n          if (tile.kind === \"mine\") {\n            if (state.enableSFX) {\n              playSoundEffect(\"explosion\");\n            }\n\n            // reveal mines\n            return {\n              ...partialNextState,\n              grid: Grid.from(state.grid).map(Game.revealMine).snapshot,\n              gameStatus: \"over\",\n            };\n          }\n\n          const nextGrid = Game.getNextGrid(state.grid, cell);\n\n          const nextScore = flatten(nextGrid.snapshot).filter(\n            (x) => x.value.revealed\n          ).length;\n\n          const didWin = Game.didWin(nextGrid);\n\n          if (state.enableSFX) {\n            const scoreDelta = nextScore - state.score;\n            playSoundEffect(\n              didWin ? \"win\" : scoreDelta > 1 ? \"streak\" : \"reveal\"\n            );\n          }\n\n          return {\n            ...partialNextState,\n            grid: nextGrid.snapshot,\n            score: nextScore,\n            gameStatus: didWin ? \"won\" : state.gameStatus,\n          };\n        }\n      }\n    }\n  }\n};\n","export default class StorageAdapter {\r\n  private namespace = \"\";\r\n\r\n  constructor(namespace: string) {\r\n    this.namespace = namespace;\r\n  }\r\n\r\n  public write<T extends {}>(value: T, path: string = \"\") {\r\n    localStorage.setItem(\r\n      `${this.namespace}${path}`,\r\n      JSON.stringify(value ?? null)\r\n    );\r\n  }\r\n\r\n  public read<T>(defaultValue: T, path: string = \"\"): T {\r\n    const value = localStorage.getItem(`${this.namespace}${path}`);\r\n\r\n    return value !== null ? JSON.parse(value) : defaultValue;\r\n  }\r\n}\r\n","import StorageAdapter from \"lib/StorageAdapter\";\n\nexport const NAMESPACE = \"@TS-MINES\";\n\nexport default new StorageAdapter(NAMESPACE);\n","import { createContainer } from \"unstated-next\";\nimport { useGameState } from \"./hooks\";\n\nexport const {\n  Provider: GameStateProvider,\n  useContainer: useGameStateContainer,\n} = createContainer(useGameState);\n","import {\n  Reducer,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\n\nimport * as Game from \"lib/game\";\nimport {\n  Actions,\n  getMineCount,\n  INITIAL_STATE,\n  reducer,\n  State,\n} from \"lib/state\";\nimport storage from \"lib/storage\";\n\nimport { Cell } from \"./Grid\";\n\nexport function useCachedReducer<S extends {}, A>(\n  cacheKey: string,\n  defaultState: S,\n  reducer: Reducer<S, A>\n) {\n  const persistedState = storage.read(defaultState, cacheKey);\n\n  const [state, dispatch] = useReducer(reducer, persistedState);\n\n  useEffect(() => {\n    storage.write<S>(state, cacheKey);\n  }, [state, cacheKey]);\n\n  return [state, dispatch] as const;\n}\n\nexport function useLongPress(callback = () => {}, ms = 300) {\n  const [running, setRunning] = useState(false);\n  const timeoutIdRef = useRef(0);\n\n  const cancelTimeout = useCallback(() => {\n    window.clearTimeout(timeoutIdRef.current);\n  }, [timeoutIdRef]);\n\n  const start = useCallback(() => {\n    setRunning(true);\n  }, []);\n\n  const stop = useCallback(() => {\n    setRunning(false);\n  }, []);\n\n  useEffect(\n    () => {\n      if (running) {\n        timeoutIdRef.current = window.setTimeout(callback, ms);\n      } else {\n        cancelTimeout();\n      }\n\n      // cleanup\n      return cancelTimeout;\n    },\n\n    /* \n      Explicitly disable rules of hooks on the next line \n      to prevent the callback from being called multiple times\n    */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [running]\n  );\n\n  return {\n    onMouseDown: start,\n    onMouseUp: stop,\n    onMouseLeave: stop,\n    onTouchStart: start,\n    onTouchEnd: stop,\n    onMouseMove: cancelTimeout,\n  };\n}\n\nexport function useRightClick<T extends () => void>(callback: T) {\n  const onContextMenu = useCallback(\n    (e: MouseEvent) => {\n      e.preventDefault();\n      callback();\n    },\n    [callback]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"contextmenu\", onContextMenu);\n\n    return () => {\n      window.removeEventListener(\"contextmenu\", onContextMenu);\n    };\n  }, [onContextMenu]);\n}\n\nexport function useGameState() {\n  const [state, dispatch] = useCachedReducer<State, Actions>(\n    \"/state\",\n    INITIAL_STATE,\n    reducer\n  );\n\n  const progress = useMemo(() => {\n    const totalCells = state.grid.length * state.grid[0].length;\n    const totalMines = state.mineCount || getMineCount(state.grid);\n    const safeCells = totalCells - totalMines;\n\n    return (state.score / safeCells) * 100;\n  }, [state.grid, state.mineCount, state.score]);\n\n  const onCellClick = useCallback(\n    (cell: Cell<Game.Tile>, mode?: Game.Mode) => {\n      dispatch({ type: \"TOGGLE_CELL\", payload: { cell, mode } });\n    },\n    [dispatch]\n  );\n\n  const onCellLongPress = useCallback(\n    (cell: Cell<Game.Tile>) => {\n      dispatch({ type: \"TOGGLE_CELL\", payload: { cell, mode: \"defuse\" } });\n    },\n    [dispatch]\n  );\n\n  const onStatusClick = useCallback(() => {\n    dispatch({ type: \"RESET\" });\n  }, [dispatch]);\n\n  const onToggleGameMode = useCallback(() => {\n    dispatch({ type: \"TOGGLE_GAME_MODE\" });\n  }, [dispatch]);\n\n  const onToggleSoundEffects = useCallback(() => {\n    dispatch({ type: \"TOGGLE_SOUND_EFFECTS\" });\n  }, [dispatch]);\n\n  return {\n    state: {\n      ...state,\n      progress,\n    },\n    handlers: {\n      onCellClick,\n      onStatusClick,\n      onToggleGameMode,\n      onToggleSoundEffects,\n      onCellLongPress,\n    },\n  };\n}\n","import { useEffect } from \"react\";\n\nexport function semverGreaterThan(\n  latestVersion: string,\n  currentVersion: string\n) {\n  const latestParts = latestVersion.split(/\\./g);\n  const currentParts = currentVersion.split(/\\./g);\n\n  while (latestParts.length || currentParts.length) {\n    const a = Number(latestParts.shift());\n    const b = Number(currentParts.shift());\n\n    if (a === b) {\n      continue;\n    }\n\n    return a > b || isNaN(b);\n  }\n\n  return false;\n}\n\n/**\n * Wraps fetch with a concurrent timeout-based callback\n *\n * @param {number} timeout  - timeout in milliseconds\n * @param {Function} [onTimeout] - timeout callback\n */\nexport const fetchWithTimeout =\n  (\n    timeout: number,\n    onTimeout: () => void = () => {\n      throw new Error(\"Timeout exceeded\");\n    }\n  ) =>\n  async (url: string) => {\n    // this forces a 5s timeout in case the request hangs\n    const timeoutHandle = window.setTimeout(onTimeout, timeout);\n    const response = await fetch(url);\n    // cancels the timeout once the request is resolved\n    window.clearTimeout(timeoutHandle);\n    return response;\n  };\n\nexport async function purgeCache() {\n  if (window.caches) {\n    const keys = await window.caches.keys();\n    const deleteKeys = keys.map((key) => window.caches.delete(key));\n\n    await Promise.all(deleteKeys);\n  }\n}\n\nexport async function checkForAppUpdates() {\n  const onTimeout = () => {\n    throw new Error(\"Timeout reached while fetching meta.json\");\n  };\n\n  const fetchWithTimeoutHandler = fetchWithTimeout(5000, onTimeout);\n\n  const response = await fetchWithTimeoutHandler(`meta.json?t=${Date.now()}`);\n  const meta = await response.json();\n  const latestVersion = meta.version;\n  const currentVersion = global.appVersion;\n\n  return semverGreaterThan(latestVersion, currentVersion);\n}\n\n/**\n * Forces window to reload\n */\nexport function forceReload() {\n  window.location.reload();\n}\n\nexport async function tryInstallUpdate() {\n  try {\n    await purgeCache();\n    window.setTimeout(forceReload, 300);\n  } catch (error) {\n    console.log(\"Failed to purge cache\", error);\n  }\n}\n\nexport async function tryCheckForUpdates() {\n  try {\n    const hasUpdates = await checkForAppUpdates();\n    if (\n      hasUpdates &&\n      window.confirm(\"A new version is available, would you like to update?\")\n    ) {\n      await tryInstallUpdate();\n    }\n  } catch (error) {\n    console.log(\"Failed to check for updates:\", error);\n  }\n}\n\nexport const UPDATE_CHECK_INTERVAL = 60000 * 30;\n\nexport default function useUpdateChecker(interval = UPDATE_CHECK_INTERVAL) {\n  useEffect(() => {\n    tryCheckForUpdates();\n    const intervalId = window.setInterval(tryCheckForUpdates, interval);\n\n    return () => {\n      window.clearInterval(intervalId);\n    };\n  }, [interval]);\n}\n","var _defs, _circle, _g, _path, _path2, _g2, _path3, _path4, _path5, _path6, _path7;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgCool(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 256,\n    cy: 256,\n    r: 256,\n    fill: \"#ffe17d\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#ffd164\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 156.9,\n    cy: 247.7,\n    rx: 74.3,\n    ry: 66.1\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 355.1,\n    cy: 247.7,\n    rx: 74.3,\n    ry: 66.1\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M293 475A256 256 0 0195 57a255 255 0 10360 360c-44 36-101 58-162 58z\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5a4650\",\n    d: \"M229 229l-13-10a49 49 0 0180 0l-13 9a33 33 0 00-54 1z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#6e5a64\",\n    d: \"M157 165c-9 0-18 2-27 5-7 2-14 3-22 3H74c-4 0-8 4-8 9v16c0 5 3 10 7 13l2 2c5 3 8 8 8 14v4c0 37 33 66 74 66s74-29 74-66-33-66-74-66z\"\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#aa7346\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M256 398c-42 0-83-20-107-53a10 10 0 0116-13 113 113 0 00182 0 10 10 0 1116 13c-24 33-64 53-107 53zM182 151h-50a10 10 0 110-21h50a10 10 0 110 21zM380 151h-50a10 10 0 110-21h50a10 10 0 110 21z\"\n  }))), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5a4650\",\n    d: \"M157 281c-32 0-58-22-58-50 0-27 26-49 58-49s58 22 58 49c0 28-26 50-58 50z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#84737b\",\n    d: \"M157 206c22 0 41 6 56 14-6-22-29-38-56-38s-50 16-56 38c14-8 34-14 56-14z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#6e5a64\",\n    d: \"M281 231c0 37 33 66 74 66s74-29 74-66v-4c0-6 3-11 8-14l2-2c4-3 7-8 7-13v-16c0-5-4-9-8-9h-34c-8 0-15-1-22-3-9-3-18-5-27-5-41 0-74 30-74 66z\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5a4650\",\n    d: \"M297 231c0-27 26-49 58-49s58 22 58 49c0 28-26 50-58 50s-58-22-58-50z\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#84737b\",\n    d: \"M355 206c-22 0-41 6-56 14 6-22 29-38 56-38s50 16 56 38c-14-8-34-14-56-14z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCool);\nexport default __webpack_public_path__ + \"static/media/cool.249aba95acc363a4101aaac38508c49a.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _path, _path2, _g, _path3, _circle, _g2, _g3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgSkull(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#dbd9dc\",\n    d: \"M249 0A243 243 0 0017 244v144c0 32 25 58 57 58h42c9 0 16 7 16 16v25c0 14 11 25 25 25h198c14 0 25-11 25-25v-25c0-9 7-16 16-16h42c32 0 57-26 57-58V239C495 105 385-4 249 0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#c9c6ca\",\n    d: \"M140 421c-22 0-41-18-41-41V244C99 126 184 24 297 4c-21-4-44-5-67-3A243 243 0 0017 244v144c0 32 25 58 57 58h42c9 0 16 7 16 16v25c0 14 11 25 25 25h25v-50c0-22-19-41-42-41z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#867e88\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M248 365l-26 63c-3 7 4 13 11 11l17-7c4-2 8-2 12 0l17 7c7 2 14-4 11-11l-26-63c-3-7-13-7-16 0z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 148.7,\n    cy: 289,\n    r: 74.3\n  }))), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#6f6571\",\n    d: \"M149 248c35 0 65 24 72 58a74 74 0 10-145 0c8-34 37-58 73-58z\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 363.4,\n    cy: 289,\n    r: 74.3,\n    fill: \"#867e88\"\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#6f6571\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M363 248c36 0 65 24 73 58a74 74 0 10-145 0c7-34 37-58 72-58zM238 401a49 49 0 0136 0l6 2-16-38c-3-7-13-7-16 0l-16 38 6-2z\"\n  }))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#c9c6ca\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M223 512h-17v-25c0-4 4-8 9-8 4 0 8 4 8 8v25zM306 512h-17v-25c0-4 4-8 8-8 5 0 9 4 9 8v25zM347 512h-17v-25c0-4 4-8 9-8 4 0 8 4 8 8v25zM264 512h-16v-25c0-4 3-8 8-8s8 4 8 8v25z\"\n  }))), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#b7b2b8\",\n    d: \"M182 512h-17v-25c0-4 4-8 8-8 5 0 9 4 9 8v25z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSkull);\nexport default __webpack_public_path__ + \"static/media/skull.5ef489e901db6938ced0ac7c9708e6ff.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _circle, _g, _g2, _g3, _path, _path2, _path3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgThinking(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 256,\n    cy: 256,\n    r: 256,\n    fill: \"#ffe17d\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#ffd164\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M293 475A256 256 0 0195 57a255 255 0 10360 360c-44 36-101 58-162 58z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M182 512c9 0 16-7 16-17 0-9-7-16-16-16h8c9 0 16-7 16-17 0-9-7-16-16-16h8c9 0 17-7 17-17 0-9-8-16-17-16h91c9 0 17-7 17-17 0-9-8-16-17-16H140c-13 0-24-11-24-25v-49c0-10-8-17-17-17s-16 7-16 17v40c0 11-4 22-11 31l-8 10c-9 11-14 26-14 41v34c0 28 22 50 49 50h83z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#ffc350\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M198 495H99c-18 0-33-14-33-33v-34c0-11 4-22 11-31l8-10c9-11 14-26 14-41v-57c-9 0-16 7-16 17v40c0 11-4 22-11 31l-8 10c-9 11-14 26-14 41v34c0 28 22 50 49 50h83c9 0 16-7 16-17zM306 396H190a8 8 0 100 17h99c9 0 17-7 17-17zM173 438c0 4 4 8 9 8h16c9 0 17-7 17-17h-33c-5 0-9 4-9 9z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M165 471c0 4 4 8 8 8h17c9 0 16-7 16-17h-33c-4 0-8 4-8 9z\"\n  }))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#aa7346\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M297 341l-4-1c-1-1-58-29-120-30-6 0-10-5-10-11s5-10 10-10c68 2 126 31 129 32a10 10 0 01-5 20zM190 134l-6-2c-2-1-38-29-80-7a10 10 0 01-10-19c55-27 100 8 102 10a10 10 0 01-6 18zM306 151a10 10 0 01-2-21l82-16a10 10 0 114 20l-82 17h-2z\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#7d5046\",\n    d: \"M152 208c-11-1-19-12-18-23l2-16c1-12 12-20 23-18 11 1 19 11 18 23l-2 16c-1 11-12 19-23 18z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9c6846\",\n    d: \"M159 151h-4l-4 28a12 12 0 1025 3l1-8c1-12-7-22-18-23z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#7d5046\",\n    d: \"M325 226c-11-1-19-12-18-23l2-16c1-12 12-20 23-18 11 1 19 11 18 23l-2 16c-1 11-12 19-23 18z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9c6846\",\n    d: \"M332 169h-4l-4 28a12 12 0 1025 3l1-8c1-12-7-22-18-23z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThinking);\nexport default __webpack_public_path__ + \"static/media/thinking.dfb5e9d093a07d8233cc844912896eee.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgGithub(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M256 5a257 257 0 00-81 501c13 3 18-5 18-12l-1-44c-71 16-86-34-86-34-12-30-28-38-28-38-24-16 1-16 1-16 26 2 39 27 39 27 23 39 60 28 75 21 2-16 9-28 16-34-57-7-116-29-116-127 0-28 10-51 26-69-3-7-11-33 3-68 0 0 21-7 70 26a244 244 0 01128 0c49-33 70-26 70-26 14 35 6 61 3 68 16 18 26 41 26 69 0 99-60 120-117 127 10 8 18 23 18 47v71c0 7 4 15 17 12A257 257 0 00256 5z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithub);\nexport default __webpack_public_path__ + \"static/media/github.4bbc729f2e8f76b75b0722cee9da9567.svg\";\nexport { ForwardRef as ReactComponent };","import { keyframes } from \"styled-components\";\nimport { darken } from \"polished\";\n\nexport const colors = {\n  primary: \"#FFD400\",\n  secondary: \"#3482B9\",\n  positive: \"#49C04A\",\n  negative: \"#D03930\",\n  neutral: \"#AAA\",\n  light: \"#ABE0F9\",\n  muted: \"#EAEAEA\",\n  hotpink: \"#FC8BA4\",\n  black: \"#333\",\n  white: \"#FFF\",\n  gray: \"#CCC\",\n  dark: \"#666\",\n  shadow: \"rgba(0, 0, 0, 0.4)\",\n} as const;\n\nexport const radii = {\n  default: \"0.2rem\",\n  sm: \"0.1rem\",\n  md: \"0.2rem\",\n  lg: \"0.3rem\",\n  xl: \"0.4rem\",\n  xxl: \"0.6rem\",\n  xxxl: \"1rem\",\n  round: \"1000px\",\n} as const;\n\nexport const shadows = {\n  default: `0 1px 2px ${colors.shadow}`,\n  inset: \"inset 1px 0 2px\",\n  top: `0 -2px 6px ${colors.shadow}`,\n  none: \"none\",\n} as const;\n\nexport const fontFamilies = {\n  display: \"'Black Ops One', monospace\",\n  default: \"'Lato', sans-serif\",\n  voice: \"'Vollkorn', serif\",\n};\n\nconst baseFontSize = 18;\n\nexport const fontSizes = {\n  default: baseFontSize,\n  xs: baseFontSize * 0.6,\n  sm: baseFontSize * 0.8,\n  md: baseFontSize,\n  lg: baseFontSize * 1.2,\n} as const;\n\nconst animations = {\n  appear: keyframes`\n    0% {\n      transform: scale(0.1);\n      opacity: 0.1;\n    }\n  `,\n  glow: keyframes`\n    70% {\n      opacity: 1;\n      background-color: ${darken(0.2, colors.negative)};\n    }\n  `,\n} as const;\n\nconst theme = {\n  colors,\n  radii,\n  fontSizes,\n  fontFamilies,\n  shadows,\n  animations,\n} as const;\n\nexport type Color = keyof typeof colors;\n\nexport type Radius = keyof typeof radii;\n\nexport type FontSize = keyof typeof fontSizes;\n\nexport type FontFamily = keyof typeof fontFamilies;\n\nexport type Theme = typeof theme;\n\nexport default theme;\n","import tw from \"tailwind-styled-components\";\n\nexport const BOARD_WIDTH = \"1072.16px\";\nexport const BOARD_HEIGHT = \"840.44px\";\n\nexport const APP_BAR_HEIGHT = \"3.8rem\";\nexport const FOOTER_HEIGHT = \"3.8rem\";\nexport const CONTENT_MARGIN = \"1rem\";\n\nexport const Root = tw.div`\n  h-screen flex flex-col \n  items-center\n bg-muted\n`;\n\nexport const AppBar = tw.header`\n  flex items-center justify-center \n  w-full h-appbar \n  bg-black shadow-md\n`;\n\nexport const Clamp = tw.div`\n  flex flex-row\n  items-center \n  justify-between\n  px-[0.5rem]\n  w-board\n`;\n\nexport const Version = tw.span`\n  absolute\n  text-[0.375em]\n  left-[8.75em]\n  bottom-[-0.75em]\n  before:content-['v']\n`;\n\nexport const Brand = tw.div`\n  font-display text-primary text-[2rem] \n  flex flex-1 cursor-pointer\n  relative\n`;\n\nexport const Controls = tw.nav`\n  flex flex-1 flex-col items-end\n`;\n\nexport const StatusDisplay = tw.div<{ $isGameOver: boolean }>`\n  bg-shadow\n  shadow-lg shadow-black/60\n  rounded-full\n  w-16 h-16\n  mt-4 p-2\n  cursor-pointer\n  ${(p) => (p.$isGameOver ? \"animate-glow\" : \"\")}\n`;\n\nexport const Content = tw.main`content relative`;\n","import styled, {\n  css as baseCSS,\n  ThemedCssFunction,\n  ThemedStyledInterface,\n  ThemeProps as BaseThemeProps,\n  useTheme as baseUseTheme,\n} from \"styled-components\";\n\nimport type { Theme } from \"ui/theme\";\n\nexport type ThemeProps = BaseThemeProps<Theme>;\n\nexport type ThemedProps<P = {}> = ThemeProps & P;\n\nexport const useTheme = baseUseTheme as () => Theme;\n\nexport const getThemeProp =\n  <P extends keyof Theme>(key: P) =>\n  <TProps extends ThemeProps = ThemeProps>(\n    lens: ((props: TProps) => keyof Theme[P]) | keyof Theme[P]\n  ) =>\n  (props: TProps) => {\n    const $value = typeof lens === \"function\" ? lens(props) : lens;\n\n    return props.theme[key][$value];\n  };\n\nexport const getColor = getThemeProp(\"colors\");\nexport const getRadius = getThemeProp(\"radii\");\nexport const getFontSize = getThemeProp(\"fontSizes\");\nexport const getShadow = getThemeProp(\"shadows\");\nexport const getFontFamily = getThemeProp(\"fontFamilies\");\nexport const getAnimation = getThemeProp(\"animations\");\n\nexport const css = baseCSS as ThemedCssFunction<Theme>;\nexport default styled as ThemedStyledInterface<Theme>;\n","var _defs, _circle, _path, _path2, _circle2, _path3, _circle3, _circle4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgEye(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 256.3,\n    cy: 256,\n    r: 245,\n    fill: \"#fec753\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#35528c\",\n    d: \"M256 105C133 105 30 217 3 248c-4 5-4 11 0 16 27 31 130 143 253 143s226-112 253-143c4-5 4-11 0-16-27-31-130-143-253-143z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#1f3a60\",\n    d: \"M42 256c0-24 96-151 214-151C134 105 31 215 4 247c-5 5-5 13 0 18 27 32 130 142 252 142-118 0-214-127-214-151z\"\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 256,\n    cy: 256,\n    r: 132,\n    fill: \"#99d3ff\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5bb3ce\",\n    d: \"M176 256c0-64 46-117 106-129a133 133 0 00-158 129 132 132 0 00158 129c-60-12-106-65-106-129z\"\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 254.6,\n    cy: 256,\n    r: 65.6,\n    fill: \"#1f3a60\"\n  })), _circle4 || (_circle4 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 308.1,\n    cy: 225.6,\n    r: 27.9,\n    fill: \"#dcf3ff\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEye);\nexport default __webpack_public_path__ + \"static/media/eye.0d94419fc0441ab5963204b37438e84d.svg\";\nexport { ForwardRef as ReactComponent };","import tw from \"tailwind-styled-components\";\n\nimport styled, {\n  getAnimation,\n  getColor,\n  getRadius,\n  getShadow,\n} from \"ui/styled\";\n\nimport { ReactComponent as GithubSVG } from \"assets/github.svg\";\n\nexport const GithubIcon = tw(GithubSVG)`\n  w-8 h-8\n`;\n\nexport const GithubLabel = styled.div`\n  white-space: nowrap;\n  font-size: 0.9rem;\n`;\n\nexport const GithubBadge = styled.a`\n  border-radius: ${getRadius(\"round\")};\n  color: ${getColor(\"secondary\")};\n  background: ${getColor(\"white\")};\n  display: flex;\n  padding: 0.4rem;\n  width: 2.2rem;\n  height: 2.2rem;\n  overflow: hidden;\n  ${GithubLabel} {\n    display: none;\n  }\n  justify-content: space-around;\n  align-items: center;\n  box-shadow: ${getShadow(\"default\")};\n  font-weight: 700;\n  text-decoration: none;\n  :hover {\n    ${GithubLabel} {\n      display: flex;\n      animation: ${getAnimation(\"appear\")} 0.3s ease;\n      padding: 0.4rem;\n    }\n    width: 12rem;\n    border-radius: 2rem;\n  }\n  transition: all 0.3s ease-in-out;\n  user-select: none;\n  outline: none;\n`;\n\nconst Github: React.FC = () => {\n  return (\n    <GithubBadge\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      href=\"https://github.com/alanrsoares/ts-mines\"\n      aria-label=\"got to the project's github page\"\n    >\n      <GithubIcon />\n      <GithubLabel>@alanrsoares/ts-mines</GithubLabel>\n    </GithubBadge>\n  );\n};\n\nexport default Github;\n","var _defs, _path, _path2, _path3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgFlag(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fc644f\",\n    d: \"M389 271l121 163c-91 30-300 24-381-18V126c80 41 290 49 381 18L389 271z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#f1543f\",\n    d: \"M129 415l65-32-48-145-17 24z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#ff7058\",\n    d: \"M41 47v289s75-20 152 46V94C116 27 41 47 41 47z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#40596b\",\n    d: \"M32 0C16 0 2 13 2 29v483h59V29C61 13 48 0 32 0z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFlag);\nexport default __webpack_public_path__ + \"static/media/flag.bf8b5d2599f8fc9188e0c81935fd78bc.svg\";\nexport { ForwardRef as ReactComponent };","import { FC } from \"react\";\n\nimport styled from \"ui/styled\";\n\ntype Props = {\n  onChange(on: boolean): void;\n  on?: boolean;\n};\n\nconst SoundOffIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    style={{ height: \"2rem\", width: \"2rem\" }}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2\"\n    />\n  </svg>\n);\n\nconst SoundOnIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    style={{ height: \"2rem\", width: \"2rem\" }}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z\"\n    />\n  </svg>\n);\n\nconst IconButton = styled.div.attrs({ role: \"button\" })`\n  cursor: pointer;\n`;\n\nconst ToggleSound: FC<Props> = (props) => (\n  <IconButton onClick={() => props.onChange(Boolean(props.on))}>\n    {props.on ? <SoundOnIcon /> : <SoundOffIcon />}\n  </IconButton>\n);\n\nexport default ToggleSound;\n","import { darken } from \"polished\";\nimport tw from \"tailwind-styled-components\";\n\nimport { Mode } from \"lib/game\";\nimport { Clamp } from \"ui/components/core\";\nimport Github from \"ui/components/Github\";\nimport styled, { getColor, getRadius, getShadow } from \"ui/styled\";\nimport { Color } from \"ui/theme\";\n\nimport { ReactComponent as EyeIcon } from \"assets/eye.svg\";\nimport { ReactComponent as FlagIcon } from \"assets/flag.svg\";\nimport ToggleSound from \"./ToggleSound\";\n\nconst Eye = styled(EyeIcon)`\n  width: 1rem;\n  height: 1rem;\n`;\n\nconst Flag = styled(FlagIcon)`\n  width: 1rem;\n  height: 1rem;\n`;\n\nconst Circle = styled.div<{ active: boolean }>`\n  border-radius: ${getRadius(\"round\")};\n  background-color: ${(p) =>\n    p.active ? getColor(\"gray\")(p) : darken(0.1, getColor(\"gray\")(p))};\n  width: 1.8rem;\n  height: 1.8rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.1rem;\n  transition-delay: 0.3s;\n  transition: background-color 0.2s ease-in-out;\n  box-shadow: ${getShadow((p) => (p.active ? \"inset\" : \"default\"))};\n`;\n\nexport const Button = styled.button<{\n  color: Color;\n  side: \"left\" | \"right\";\n  active?: boolean;\n}>`\n  border: none;\n  background-color: ${(p) => {\n    const color = getColor(p.color)(p);\n    return p.active ? color : darken(0.5, color);\n  }};\n  height: 2.8rem;\n  width: 4rem;\n  ${(p) => `\n      border-top-${p.side}-radius: 2rem;\n      border-bottom-${p.side}-radius: 2rem;\n    `}\n  box-shadow: ${getShadow((p) => (p.active ? \"inset\" : \"default\"))};\n  outline: none;\n  transition: all 0.1s ease;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s ease-in-out;\n  cursor: pointer;\n`;\n\nexport const ButtonGroup = tw.div`\n  flex\n`;\n\nexport const Root = tw.div`\n  flex items-center justify-center\n  w-full h-appbar \n  bg-dark text-white\n  shadow-md fixed bottom-0\n`;\n\ntype Props = {\n  onToggleGameMode(): void;\n  onToggleSoundEffects(): void;\n  soundEffects?: boolean;\n  gameMode: Mode;\n};\n\nconst Footer: React.FC<Props> = (props) => (\n  <Root>\n    <Clamp>\n      <Github />\n      <div>\n        <ToggleSound\n          on={props.soundEffects}\n          onChange={props.onToggleSoundEffects}\n        />\n      </div>\n      <ButtonGroup>\n        <Button\n          side=\"left\"\n          color=\"white\"\n          active={props.gameMode === \"defuse\"}\n          onClick={props.onToggleGameMode}\n          aria-label=\"Toggle game mode\"\n        >\n          <Circle active={props.gameMode === \"defuse\"}>\n            <Flag />\n          </Circle>\n        </Button>\n        <Button\n          side=\"right\"\n          color=\"white\"\n          active={props.gameMode === \"reveal\"}\n          onClick={props.onToggleGameMode}\n          aria-label=\"Toggle game mode\"\n        >\n          <Circle active={props.gameMode === \"reveal\"}>\n            <Eye />\n          </Circle>\n        </Button>\n      </ButtonGroup>\n    </Clamp>\n  </Root>\n);\n\nexport default Footer;\n","import omit from \"ramda/es/omit\";\nimport { useMemo } from \"react\";\nimport { css } from \"styled-components\";\n\nimport { ReactComponent as FlagIcon } from \"assets/flag.svg\";\nimport { ReactComponent as MineIcon } from \"assets/mine.svg\";\nimport { Tile } from \"lib/game\";\nimport { useLongPress } from \"lib/hooks\";\nimport styled, {\n  getAnimation,\n  getColor,\n  getRadius,\n  getShadow,\n} from \"ui/styled\";\n\nexport const Mine = styled(MineIcon)`\n  width: 1.4rem;\n  height: 1.4rem;\n  animation: ${getAnimation(\"appear\")} 0.2s ease-in-out;\n`;\n\nexport const Flag = styled(FlagIcon)`\n  width: 1.4rem;\n  height: 1.4rem;\n  animation: ${getAnimation(\"appear\")} 0.2s ease-in-out;\n`;\n\nexport const NUMBER_COLORS: Record<number, string> = {\n  0: \"white\",\n  1: \"blue\",\n  2: \"green\",\n  3: \"red\",\n  4: \"darkblue\",\n  5: \"darkgreen\",\n  6: \"darkred\",\n  7: \"purple\",\n  8: \"darkpurple\",\n};\n\ntype Props = Tile & {\n  onLongPress(): void;\n  onClick(): void;\n  active?: boolean;\n};\n\nconst GridTileContainer = styled.button<Omit<Props, \"onLongPress\">>`\n  width: 1.8rem;\n  height: 1.8rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: ${getShadow(({ revealed }) => (revealed ? \"none\" : \"default\"))};\n  border-radius: ${getRadius(\"lg\")};\n  margin: 0.2rem;\n  padding: 0.2rem;\n  background: ${getColor(({ revealed, kind, active }) =>\n    revealed ? (kind === \"mine\" && active ? \"negative\" : \"white\") : \"gray\"\n  )};\n  appearance: none;\n  border: none;\n  transition: all 0.2s ease-in-out;\n  font-weight: bold;\n  user-select: none;\n  outline: none;\n  cursor: ${({ active }) => (active ? \"auto\" : \"pointer\")};\n  ${({ children }) =>\n    // dynamic number-color mapping\n    typeof children === \"number\"\n      ? css`\n          color: ${NUMBER_COLORS[children]};\n        `\n      : undefined};\n  :active {\n    opacity: 0.8;\n    box-shadow: 0 0 0 0.125rem rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst GridTile: React.FC<Props> = (props) => {\n  const content = useMemo(() => {\n    if (props.defused) {\n      return <Flag />;\n    }\n    if (!props.revealed || props.kind === \"safe\") {\n      return null;\n    }\n\n    switch (props.kind) {\n      case \"empty\":\n        return props.surroundingMines;\n      case \"mine\":\n        return <Mine />;\n    }\n  }, [props]);\n\n  const longPressProps = useLongPress(props.onLongPress, 400);\n\n  return (\n    <GridTileContainer\n      {...omit([\"onLongPress\"], props)}\n      {...longPressProps}\n      active={props.active}\n    >\n      {content}\n    </GridTileContainer>\n  );\n};\n\nexport default GridTile;\n","import { useCallback, FC } from \"react\";\nimport tw from \"tailwind-styled-components\";\n\nimport { Tile } from \"lib/game\";\nimport { Cell, Matrix } from \"lib/Grid\";\n\nimport GridTile from \"./GridTile\";\n\nexport const GridContainer = tw.div`\n  flex flex-col\n`;\n\nexport const GridRow = tw.div`\n  flex\n`;\n\ntype Props = {\n  grid: Matrix<Tile>;\n  onTileClick(cell: Cell<Tile>): void;\n  onTileLongPress(cell: Cell<Tile>): void;\n  activeCell?: Cell<Tile>;\n};\n\nconst GridComponent: FC<Props> = (props) => {\n  const handleClick = useCallback(\n    (cell: Cell<Tile>) => () => props.onTileClick(cell),\n    [props]\n  );\n\n  const handleLongPress = useCallback(\n    (cell: Cell<Tile>) => () => props.onTileLongPress(cell),\n    [props]\n  );\n\n  return (\n    <GridContainer>\n      {props.grid.map((row, y) => (\n        <GridRow key={`row-${y}`}>\n          {row.map((cell, x) => (\n            <GridTile\n              key={`tile-${x}`}\n              onClick={handleClick(cell)}\n              onLongPress={handleLongPress(cell)}\n              {...cell.value}\n              active={\n                cell.row === props.activeCell?.row &&\n                cell.column === props.activeCell?.column\n              }\n            />\n          ))}\n        </GridRow>\n      ))}\n    </GridContainer>\n  );\n};\n\nexport default GridComponent;\n","import styled, { getColor, getRadius } from \"ui/styled\";\nimport { ReactComponent as EyeIcon } from \"assets/eye.svg\";\n\nexport const Root = styled.div`\n  display: flex;\n  color: ${getColor(\"primary\")};\n  min-width: 8rem;\n  flex-direction: column;\n  align-items: center;\n  background: ${getColor(\"shadow\")};\n  border-radius: ${getRadius(\"lg\")};\n  height: 3rem;\n  justify-content: space-around;\n  @media screen and (max-width: 360px) {\n    min-width: 6rem;\n  }\n`;\n\nexport const ProgressContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${getColor(\"primary\")};\n  font-size: 1.6rem;\n`;\n\nexport const ProgressLine = styled.div<{ progress: number }>`\n  height: 0.3rem;\n  overflow: hidden;\n  border-radius: ${getRadius(\"default\")};\n  width: 80%;\n  align-self: center;\n  background: linear-gradient(\n    to right,\n    ${getColor(\"positive\")} 0%,\n    ${getColor(\"positive\")} ${(p) => p.progress}%,\n    ${getColor(\"white\")} ${(p) => p.progress}%,\n    ${getColor(\"white\")} 100%\n  );\n`;\n\nexport const ProgressIcon = styled(EyeIcon)`\n  width: 0.9rem;\n  height: 0.9rem;\n  margin-right: 0.5rem;\n`;\n\nconst Score: React.FC<{ score: number; progress: number }> = (props) => (\n  <Root>\n    <ProgressContainer>\n      <ProgressIcon /> {props.score}\n    </ProgressContainer>\n    <ProgressLine progress={props.progress} />\n  </Root>\n);\n\nexport default Score;\n","import { ThemeProvider } from \"styled-components\";\n\nimport { GameStateProvider, useGameStateContainer } from \"lib/contexts\";\nimport { GameStatus } from \"lib/game\";\nimport { useRightClick } from \"lib/hooks\";\nimport useUpdateChecker, { UPDATE_CHECK_INTERVAL } from \"lib/useUpdateChecker\";\n\nimport { ReactComponent as CoolIcon } from \"assets/cool.svg\";\nimport { ReactComponent as SkullIcon } from \"assets/skull.svg\";\nimport { ReactComponent as ThinkingIcon } from \"assets/thinking.svg\";\n\nimport theme from \"ui/theme\";\nimport {\n  AppBar,\n  Brand,\n  Clamp,\n  Content,\n  Controls,\n  Root,\n  StatusDisplay,\n  Version,\n} from \"ui/components/core\";\nimport Footer from \"ui/components/Footer\";\nimport GridComponent from \"ui/components/Grid\";\nimport Score from \"ui/components/Score\";\n\nconst STATUS_ICONS: Record<GameStatus, JSX.Element> = {\n  new: <ThinkingIcon />,\n  won: <CoolIcon />,\n  over: <SkullIcon />,\n};\n\nconst StatusIcon: React.FC<{ status: GameStatus }> = (props) =>\n  STATUS_ICONS[props.status];\n\nconst NO_OP = () => {};\n\nexport function App() {\n  useUpdateChecker(UPDATE_CHECK_INTERVAL);\n  useRightClick(NO_OP);\n\n  const { state, handlers } = useGameStateContainer();\n\n  return (\n    <Root>\n      <AppBar>\n        <Clamp>\n          <Brand>\n            [MINES]\n            <Version>{global.appVersion}</Version>\n          </Brand>\n          <StatusDisplay\n            $isGameOver={state.gameStatus === \"over\"}\n            onClick={handlers.onStatusClick}\n          >\n            <StatusIcon status={state.gameStatus} />\n          </StatusDisplay>\n          <Controls>\n            <Score score={state.score} progress={state.progress} />\n          </Controls>\n        </Clamp>\n      </AppBar>\n\n      <Content>\n        <GridComponent\n          grid={state.grid}\n          activeCell={state.activeCell}\n          onTileClick={handlers.onCellClick}\n          onTileLongPress={handlers.onCellLongPress}\n        />\n      </Content>\n\n      <p className=\"text-xs\">\n        {state.gameLevel} - {state.boardSize}\n      </p>\n\n      <Footer\n        onToggleGameMode={handlers.onToggleGameMode}\n        onToggleSoundEffects={handlers.onToggleSoundEffects}\n        gameMode={state.gameMode}\n        soundEffects={state.enableSFX}\n      />\n    </Root>\n  );\n}\n\nexport default function AppWithProviders() {\n  return (\n    <ThemeProvider theme={theme}>\n      <GameStateProvider>\n        <App />\n      </GameStateProvider>\n    </ThemeProvider>\n  );\n}\n"],"names":["memoize","fn","cache","Map","args","key","JSON","stringify","has","get","result","set","isIndexOutOfBounds","value","gridSize","min","max","isBetween","isOutOfBounds","cell","dimensions","row","rows","column","columns","Grid","_dimensions","_grid","getNeighborsCoordinates","coordinates","y","x","push","length","Array","isArray","this","fill","Error","matrix","slice","previous","getCell","reduce","acc","nextMatrix","map","cells","from","CHANCE_OF_MINES_PER_LEVEL","easy","medium","hard","ultra","god","NEXT_LEVEL","getDimensions","Math","floor","BOARD_SIZES","xs","sm","md","lg","xl","NEXT_BOARD_SIZE","revealTile","tile","assoc","revealMine","kind","getNextGrid","cellClicked","nextGrid","updateCell","getCellNeighbors","forEach","neighborCell","neighbor","revealed","snapshot","isMine","makeNewGrid","chanceOfMines","make","random","surroundingMines","self","filter","didWin","grid","flatten","summary","flagged","defused","mines","playSoundEffect","element","document","querySelector","play","console","log","statuses","getMineCount","total","DEFAULT_GAME_LEVEL","INITIAL_GRID","Game","INITIAL_STATE","gameStatus","gameMode","gameLevel","boardSize","activeCell","undefined","score","enableSFX","mineCount","isFinalStatus","status","includes","reducer","state","action","type","payload","mode","partialNextState","nextScore","scoreDelta","StorageAdapter","namespace","path","localStorage","setItem","defaultValue","getItem","parse","createContainer","cacheKey","defaultState","persistedState","storage","read","useReducer","dispatch","useEffect","write","useCachedReducer","progress","useMemo","safeCells","onCellClick","useCallback","onCellLongPress","onStatusClick","onToggleGameMode","onToggleSoundEffects","handlers","GameStateProvider","Provider","useGameStateContainer","useContainer","semverGreaterThan","latestVersion","currentVersion","latestParts","split","currentParts","a","Number","shift","b","isNaN","fetchWithTimeout","timeout","onTimeout","url","timeoutHandle","window","setTimeout","fetch","response","clearTimeout","purgeCache","caches","keys","deleteKeys","delete","Promise","all","checkForAppUpdates","fetchWithTimeoutHandler","Date","now","json","meta","version","global","appVersion","forceReload","location","reload","tryInstallUpdate","tryCheckForUpdates","confirm","_defs","_circle","_g","_path","_path2","_g2","_path3","_path4","_path5","_path6","_path7","UPDATE_CHECK_INTERVAL","_excluded","_extends","Object","assign","bind","target","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCool","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","id","cx","cy","r","rx","ry","d","_g3","ForwardRef","SvgSkull","SvgThinking","colors","primary","secondary","positive","negative","neutral","light","muted","hotpink","black","white","gray","dark","shadow","radii","default","xxl","xxxl","round","fontSizes","baseFontSize","fontFamilies","display","voice","shadows","inset","top","none","animations","appear","keyframes","glow","darken","Root","tw","AppBar","Clamp","Version","Brand","Controls","StatusDisplay","p","$isGameOver","Content","getThemeProp","lens","$value","theme","getColor","getRadius","getShadow","getAnimation","styled","SvgGithub","_circle2","_circle3","_circle4","GithubIcon","GithubSVG","GithubLabel","div","GithubBadge","rel","href","SvgEye","SvgFlag","SoundOffIcon","style","height","width","stroke","strokeLinecap","strokeLinejoin","strokeWidth","clipRule","SoundOnIcon","IconButton","attrs","role","onClick","onChange","Boolean","on","Eye","EyeIcon","Flag","FlagIcon","Circle","active","Button","button","color","side","ButtonGroup","soundEffects","Mine","MineIcon","NUMBER_COLORS","GridTileContainer","children","css","content","longPressProps","callback","ms","useState","running","setRunning","timeoutIdRef","useRef","cancelTimeout","current","start","stop","onMouseDown","onMouseUp","onMouseLeave","onTouchStart","onTouchEnd","onMouseMove","useLongPress","onLongPress","omit","GridContainer","GridRow","handleClick","onTileClick","handleLongPress","onTileLongPress","ProgressContainer","ProgressLine","ProgressIcon","STATUS_ICONS","new","won","over","StatusIcon","NO_OP","App","interval","intervalId","setInterval","clearInterval","useUpdateChecker","onContextMenu","e","preventDefault","addEventListener","removeEventListener","useRightClick","className","AppWithProviders"],"sourceRoot":""}