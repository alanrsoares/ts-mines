{"version":3,"file":"static/js/600.3cf3a1be.chunk.js","mappings":"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","sources":["lib/Grid.ts","lib/utils.ts","lib/game.ts","lib/sound.ts","lib/state.ts","lib/StorageAdapter.ts","lib/storage.ts","lib/contexts.ts","lib/hooks.ts","lib/useUpdateChecker.ts","assets/cool.svg","assets/skull.svg","assets/thinking.svg","assets/github.svg","ui/theme.ts","ui/components/core.tsx","ui/styled.ts","assets/eye.svg","ui/components/Github.tsx","assets/flag.svg","ui/components/ToggleSound.tsx","ui/components/Footer.tsx","ui/components/GridTile.tsx","ui/components/Grid.tsx","ui/components/Score.tsx","App.tsx"],"sourcesContent":["import { isBetween, memoize } from \"./utils\";\nexport interface Coordinates {\n  row: number;\n  column: number;\n}\n\nexport interface Dimensions {\n  rows: number;\n  columns: number;\n}\n\nexport type FillFn<T> = (cell: Coordinates, previousValue?: T) => T;\n\nexport interface Cell<T> extends Coordinates {\n  value: T;\n}\n\nexport type Row<T> = Cell<T>[];\n\nexport type Matrix<T> = Row<T>[];\n\nexport const isIndexOutOfBounds = (value: number, gridSize: number) =>\n  !isBetween(0, gridSize, value);\n\nexport const isOutOfBounds = (\n  cell: { row: number; column: number },\n  dimensions: Dimensions\n) =>\n  isIndexOutOfBounds(cell.row, dimensions.rows) ||\n  isIndexOutOfBounds(cell.column, dimensions.columns);\n\nexport default class Grid<T = undefined> {\n  private _dimensions: Dimensions = {\n    rows: 0,\n    columns: 0,\n  };\n  private _grid: Matrix<T> = [];\n\n  constructor(seed: Matrix<T>);\n  constructor(dimensions: Dimensions, fill: FillFn<T> | T);\n  constructor(...args: any[]) {\n    if (args.length === 1 && Array.isArray(args[0])) {\n      this._grid = args[0] as Matrix<T>;\n\n      const dimensions: Dimensions = {\n        rows: this._grid.length,\n        columns: this._grid[0].length,\n      };\n\n      this._dimensions = dimensions;\n\n      return this;\n    }\n\n    if (typeof args[0] === \"object\" && args[0] !== null) {\n      const dimensions = args[0] as Dimensions;\n      const fill = args[1] as FillFn<T>;\n\n      const rows: Matrix<T> = [];\n\n      for (let y = 0; y < dimensions.rows; y++) {\n        const row: Row<T> = [];\n\n        for (let x = 0; x < dimensions.columns; x++) {\n          const value =\n            typeof fill === \"function\"\n              ? (fill as FillFn<T>)({\n                  row: y,\n                  column: x,\n                })\n              : fill;\n\n          row.push({ row: y, column: x, value });\n        }\n\n        rows.push(row);\n      }\n\n      this._dimensions = dimensions;\n      this._grid = rows;\n\n      return this;\n    }\n\n    throw new Error(`Invalid argument: ${args[0]}`);\n  }\n\n  public static make<T>(seed: Matrix<T>): Grid<T>;\n  public static make<T>(dimensions: Dimensions, fill: FillFn<T> | T): Grid<T>;\n  public static make<T>(...args: any[]): Grid<T> {\n    return new Grid(args[0], args[1]);\n  }\n\n  public static from<U>(matrix: Matrix<U>) {\n    return new Grid(matrix);\n  }\n\n  public withSeed(matrix: Matrix<T>) {\n    this._grid = matrix;\n\n    return this;\n  }\n\n  public get snapshot() {\n    return this._grid.slice();\n  }\n\n  public updateCell(\n    { row, column }: Coordinates,\n    fill: FillFn<T> | T\n  ): Grid<T> {\n    const previous = this.getCell({ row, column });\n\n    const value =\n      typeof fill === \"function\"\n        ? (fill as FillFn<T>)({ row, column }, previous.value)\n        : fill;\n\n    this._grid[row][column] = { row, column, value };\n\n    return this;\n  }\n\n  public getCell({ row, column }: Coordinates) {\n    if (!isOutOfBounds({ row, column }, this._dimensions)) {\n      return this._grid[row][column];\n    }\n\n    throw new Error(`Invalid cell coordinates: row: ${row}; column: ${column}`);\n  }\n\n  public getNeighborsCoordinates = memoize(({ row, column }: Coordinates) => {\n    const coordinates: Coordinates[] = [];\n\n    for (let y = -1; y <= 1; y++) {\n      for (let x = -1; x <= 1; x++) {\n        if (y === 0 && x === 0) {\n          continue;\n        }\n\n        coordinates.push({\n          row: row + y,\n          column: column + x,\n        });\n      }\n    }\n\n    return coordinates;\n  });\n\n  public getCellNeighbors({ row, column }: Coordinates): Row<T> {\n    const coordinates = this.getNeighborsCoordinates({ row, column });\n\n    return coordinates.reduce<Row<T>>((acc, cell) => {\n      if (!isOutOfBounds(cell, this._dimensions)) {\n        return [...acc, this.getCell(cell)];\n      }\n      return acc;\n    }, []);\n  }\n\n  public map<U>(fn: (value: T, cell: Cell<T>, self: Grid<T>) => U) {\n    const nextMatrix: Matrix<U> = this._grid.map((cells) =>\n      cells.map((cell) => ({ ...cell, value: fn(cell.value, cell, this) }))\n    );\n\n    return Grid.from(nextMatrix);\n  }\n}\n","export const isBetween = (min: number, max: number, value: number) =>\n  value >= min && value < max;\n\nexport const memoize = <T extends (...args: any[]) => any>(fn: T) => {\n  const cache = new Map();\n  return ((...args: any[]) => {\n    const key = JSON.stringify(args);\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    const result = fn(...args);\n    cache.set(key, result);\n    return result;\n  }) as T;\n};\n","import Grid, { Matrix, Cell, Dimensions, FillFn } from \"./Grid\";\n\nexport const CHANCE_OF_MINES_PER_LEVEL = {\n  easy: 15,\n  medium: 17.5,\n  hard: 20,\n  ultra: 22.5,\n  god: 25,\n} as const;\n\nexport type Level = keyof typeof CHANCE_OF_MINES_PER_LEVEL;\n\nexport const NEXT_LEVEL: Record<Level, Level> = {\n  easy: \"medium\",\n  medium: \"hard\",\n  hard: \"ultra\",\n  ultra: \"god\",\n  god: \"easy\",\n};\n\nexport type TileKind = \"safe\" | \"empty\" | \"mine\";\n\nconst getDimensions = (rows: number) => ({\n  rows,\n  columns: Math.floor(rows * 1.5),\n});\n\nexport const BOARD_SIZES = {\n  // increment following the same proportion\n  xs: getDimensions(10), // 10 x 15\n  sm: getDimensions(15), // 15 x 22.5\n  md: getDimensions(20), // 20 x 30\n  lg: getDimensions(25), // 25 x 37.5\n  xl: getDimensions(30), // 30 x 45\n} as const;\n\nexport type BoardSize = keyof typeof BOARD_SIZES;\n\nexport const NEXT_BOARD_SIZE: Record<BoardSize, BoardSize> = {\n  xs: \"sm\",\n  sm: \"md\",\n  md: \"lg\",\n  lg: \"xl\",\n  xl: \"xs\",\n};\n\nexport type Tile = {\n  kind: TileKind;\n  revealed: boolean;\n  surroundingMines: number;\n  defused?: boolean;\n};\n\nexport type GameStatus = \"new\" | \"over\" | \"won\";\n\nexport type Mode = \"reveal\" | \"defuse\";\n\nexport const revealTile = (tile: Tile): Tile => ({\n  ...tile,\n  revealed: true,\n});\n\nexport const revealMine = (tile: Tile) =>\n  tile.kind === \"mine\" ? revealTile(tile) : tile;\n\nexport function getNextGrid(matrix: Matrix<Tile>, cellClicked: Cell<Tile>) {\n  const nextGrid = Grid.from(matrix);\n\n  const { value: tile } = cellClicked;\n\n  // reveal clicked tile\n  nextGrid.updateCell(cellClicked, revealTile(tile));\n\n  if (tile.kind !== \"safe\") {\n    return nextGrid;\n  }\n\n  nextGrid.getCellNeighbors(cellClicked).forEach((neighborCell) => {\n    const { value: neighbor } = neighborCell;\n\n    // skip revealed tiles\n    if (neighbor.revealed) {\n      return;\n    }\n\n    switch (neighbor.kind) {\n      case \"empty\": {\n        nextGrid.updateCell(neighborCell, revealTile(neighbor));\n        break;\n      }\n      case \"safe\":\n        return getNextGrid(nextGrid.snapshot, neighborCell);\n    }\n  });\n\n  return nextGrid;\n}\n\nexport const isMine = (cell: Cell<Tile>) => cell.value.kind === \"mine\";\n\nexport const makeNewGrid = (dimensions: Dimensions, chanceOfMines: number) => {\n  const fill: FillFn<Tile> = () => ({\n    kind: Math.random() >= chanceOfMines / 100 ? \"empty\" : \"mine\",\n    surroundingMines: 0,\n    revealed: false,\n  });\n\n  return Grid.make<Tile>(dimensions, fill).map<Tile>((tile, cell, self) => {\n    if (tile.kind !== \"mine\") {\n      const neighbors = self.getCellNeighbors(cell);\n      const mines = neighbors.filter(isMine);\n      const surroundingMines = mines.length;\n\n      return {\n        ...tile,\n        surroundingMines,\n        kind: surroundingMines ? \"empty\" : \"safe\",\n      };\n    }\n\n    return tile;\n  });\n};\n\nexport function didWin(grid: Grid<Tile>) {\n  const cells = grid.snapshot.flat();\n\n  const { flagged, revealed, mines } = cells.reduce(\n    (acc, cell) => ({\n      flagged: cell.value.defused ? acc.flagged + 1 : acc.flagged,\n      revealed: cell.value.revealed ? acc.revealed + 1 : acc.revealed,\n      mines: cell.value.kind === \"mine\" ? acc.mines + 1 : acc.mines,\n    }),\n    { flagged: 0, revealed: 0, mines: 0 }\n  );\n\n  return mines === flagged && revealed + flagged === cells.length;\n}\n","export type SoundEffectKind =\n  | \"explosion\"\n  | \"disabled\"\n  | \"defuse\"\n  | \"reveal\"\n  | \"streak\"\n  | \"win\";\n\nexport async function playSoundEffect(kind: SoundEffectKind) {\n  const element = document.querySelector(\n    `#sound-fx-${kind}`\n  ) as HTMLAudioElement;\n\n  if (!element) {\n    throw new Error(`Invalid sound effect: ${kind}`);\n  }\n\n  try {\n    await element.play();\n  } catch (error) {\n    console.log(`Failed to play sound effect: ${kind}`);\n  }\n}\n","import { Reducer } from \"react\";\n\nimport * as Game from \"lib/game\";\nimport Grid, { Cell, Matrix } from \"lib/Grid\";\n\nimport { playSoundEffect } from \"./sound\";\n\nexport const getMineCount = (grid: Matrix<Game.Tile>) =>\n  grid.reduce(\n    (total, row) =>\n      row.reduce(\n        (mines, cell) => (cell.value.kind === \"mine\" ? mines + 1 : mines),\n        total\n      ),\n    0\n  );\n\nexport interface State {\n  score: number;\n  gameStatus: Game.GameStatus;\n  gameMode: Game.Mode;\n  gameLevel: Game.Level;\n  boardSize: Game.BoardSize;\n  mineCount: number;\n  activeCell?: Cell<Game.Tile>;\n  grid: Matrix<Game.Tile>;\n  enableSFX?: boolean;\n}\n\nexport interface CellClickPayload {\n  cell: Cell<Game.Tile>;\n  mode?: Game.Mode;\n}\n\nexport type Action<T extends string, P = undefined> = P extends undefined\n  ? { type: T }\n  : { type: T; payload: P };\n\nexport type Actions =\n  | Action<\"RESET\">\n  | Action<\"TOGGLE_GAME_MODE\">\n  | Action<\"TOGGLE_SOUND_EFFECTS\">\n  | Action<\"TOGGLE_CELL\", CellClickPayload>;\n\nexport const DEFAULT_GAME_LEVEL: Game.Level = \"easy\";\n\nexport const DEFAULT_BOARD_SIZE: Game.BoardSize = \"xs\";\n\nconst INITIAL_GRID = Game.makeNewGrid(\n  { rows: 20, columns: 30 },\n  Game.CHANCE_OF_MINES_PER_LEVEL[DEFAULT_GAME_LEVEL]\n).snapshot;\n\nexport const INITIAL_STATE: State = {\n  gameStatus: \"new\",\n  gameMode: \"reveal\",\n  gameLevel: DEFAULT_GAME_LEVEL,\n  boardSize: DEFAULT_BOARD_SIZE,\n  activeCell: undefined,\n  score: 0,\n  grid: INITIAL_GRID,\n  enableSFX: false,\n  mineCount: getMineCount(INITIAL_GRID),\n};\n\nconst isGameStatus =\n  (statuses: Game.GameStatus[]) => (status: Game.GameStatus) =>\n    statuses.includes(status);\n\nconst isFinalStatus = isGameStatus([\"won\", \"over\"]);\n\nexport const reducer: Reducer<State, Actions> = (state, action) => {\n  switch (action.type) {\n    case \"TOGGLE_GAME_MODE\":\n      return {\n        ...state,\n        gameMode: state.gameMode === \"defuse\" ? \"reveal\" : \"defuse\",\n      };\n    case \"TOGGLE_SOUND_EFFECTS\":\n      return {\n        ...state,\n        enableSFX: !state.enableSFX,\n      };\n    case \"RESET\": {\n      if (!isFinalStatus(state.gameStatus)) {\n        return state;\n      }\n\n      const nextGrid = Game.makeNewGrid(\n        Game.BOARD_SIZES[state.boardSize],\n        Game.CHANCE_OF_MINES_PER_LEVEL[state.gameLevel]\n      ).snapshot;\n\n      return {\n        ...INITIAL_STATE,\n        grid: nextGrid,\n        gameLevel: state.gameLevel,\n        boardSize: state.boardSize,\n        mineCount: getMineCount(nextGrid),\n      };\n    }\n    case \"TOGGLE_CELL\": {\n      const { cell, mode } = action.payload;\n\n      if (isFinalStatus(state.gameStatus)) {\n        return state;\n      }\n\n      const { value: tile } = cell;\n      const gameMode = mode ?? state.gameMode;\n      const partialNextState = { ...state, activeCell: action.payload.cell };\n\n      if (tile.revealed || tile.defused) {\n        return partialNextState;\n      }\n\n      switch (gameMode) {\n        case \"defuse\": {\n          if (tile.kind !== \"mine\") {\n            // reveal mines\n            const nextGrid = Grid.from(state.grid).updateCell(cell, {\n              ...tile,\n              revealed: true,\n            });\n\n            if (state.enableSFX) {\n              playSoundEffect(\"disabled\");\n            }\n\n            return {\n              ...partialNextState,\n              grid: nextGrid.map(Game.revealMine).snapshot,\n              gameStatus: \"over\",\n            };\n          }\n\n          if (state.enableSFX) {\n            playSoundEffect(\"defuse\");\n          }\n\n          const nextGrid = Grid.from(state.grid).updateCell(cell, {\n            ...tile,\n            defused: !tile.defused,\n          });\n\n          const didWin = Game.didWin(nextGrid);\n\n          if (didWin && state.enableSFX) {\n            playSoundEffect(\"win\");\n          }\n\n          return {\n            ...partialNextState,\n            grid: nextGrid.snapshot,\n            gameStatus: didWin ? \"won\" : state.gameStatus,\n            score: state.score + 1,\n            gameLevel: didWin\n              ? Game.NEXT_LEVEL[state.gameLevel]\n              : state.gameLevel,\n            boardSize: didWin\n              ? Game.NEXT_BOARD_SIZE[state.boardSize]\n              : state.boardSize,\n          };\n        }\n        case \"reveal\": {\n          if (tile.kind === \"mine\") {\n            if (state.enableSFX) {\n              playSoundEffect(\"explosion\");\n            }\n\n            // reveal mines\n            return {\n              ...partialNextState,\n              grid: Grid.from(state.grid).map(Game.revealMine).snapshot,\n              gameStatus: \"over\",\n            };\n          }\n\n          const nextGrid = Game.getNextGrid(state.grid, cell);\n\n          const nextScore = nextGrid.snapshot\n            .flat()\n            .filter((x) => x.value.revealed).length;\n\n          const didWin = Game.didWin(nextGrid);\n\n          if (state.enableSFX) {\n            const scoreDelta = nextScore - state.score;\n            playSoundEffect(\n              didWin ? \"win\" : scoreDelta > 1 ? \"streak\" : \"reveal\"\n            );\n          }\n\n          return {\n            ...partialNextState,\n            grid: nextGrid.snapshot,\n            score: nextScore,\n            gameStatus: didWin ? \"won\" : state.gameStatus,\n          };\n        }\n      }\n    }\n  }\n};\n","export default class StorageAdapter {\r\n  private namespace = \"\";\r\n\r\n  constructor(namespace: string) {\r\n    this.namespace = namespace;\r\n  }\r\n\r\n  public write<T extends {}>(value: T, path: string = \"\") {\r\n    localStorage.setItem(\r\n      `${this.namespace}${path}`,\r\n      JSON.stringify(value ?? null)\r\n    );\r\n  }\r\n\r\n  public read<T>(defaultValue: T, path: string = \"\"): T {\r\n    const value = localStorage.getItem(`${this.namespace}${path}`);\r\n\r\n    return value !== null ? JSON.parse(value) : defaultValue;\r\n  }\r\n}\r\n","import StorageAdapter from \"lib/StorageAdapter\";\n\nexport const NAMESPACE = \"@TS-MINES\";\n\nconst instance = new StorageAdapter(NAMESPACE);\n\nexport default instance;\n","import { createContainer } from \"unstated-next\";\nimport { useGameState } from \"./hooks\";\n\nexport const {\n  Provider: GameStateProvider,\n  useContainer: useGameStateContainer,\n} = createContainer(useGameState);\n","import {\n  Reducer,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\n\nimport * as Game from \"lib/game\";\nimport {\n  Actions,\n  getMineCount,\n  INITIAL_STATE,\n  reducer,\n  State,\n} from \"lib/state\";\nimport storage from \"lib/storage\";\n\nimport { Cell } from \"./Grid\";\n\nexport function useCachedReducer<S extends {}, A>(\n  cacheKey: string,\n  defaultState: S,\n  reducer: Reducer<S, A>\n) {\n  const persistedState = storage.read(defaultState, cacheKey);\n\n  const [state, dispatch] = useReducer(reducer, persistedState);\n\n  useEffect(() => {\n    storage.write<S>(state, cacheKey);\n  }, [state, cacheKey]);\n\n  return [state, dispatch] as const;\n}\n\nexport function useLongPress(callback = () => {}, ms = 300) {\n  const [running, setRunning] = useState(false);\n  const timeoutIdRef = useRef(0);\n\n  const cancelTimeout = useCallback(() => {\n    window.clearTimeout(timeoutIdRef.current);\n  }, [timeoutIdRef]);\n\n  const start = useCallback(() => {\n    setRunning(true);\n  }, []);\n\n  const stop = useCallback(() => {\n    setRunning(false);\n  }, []);\n\n  useEffect(\n    () => {\n      if (running) {\n        timeoutIdRef.current = window.setTimeout(callback, ms);\n      } else {\n        cancelTimeout();\n      }\n\n      // cleanup\n      return cancelTimeout;\n    },\n\n    /* \n      Explicitly disable rules of hooks on the next line \n      to prevent the callback from being called multiple times\n    */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [running]\n  );\n\n  return {\n    onMouseDown: start,\n    onMouseUp: stop,\n    onMouseLeave: stop,\n    onTouchStart: start,\n    onTouchEnd: stop,\n    onMouseMove: cancelTimeout,\n  };\n}\n\nexport function useRightClick<T extends () => void>(callback: T) {\n  const onContextMenu = useCallback(\n    (e: MouseEvent) => {\n      e.preventDefault();\n      callback();\n    },\n    [callback]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"contextmenu\", onContextMenu);\n\n    return () => {\n      window.removeEventListener(\"contextmenu\", onContextMenu);\n    };\n  }, [onContextMenu]);\n}\n\nexport function useGameState() {\n  const [state, dispatch] = useCachedReducer<State, Actions>(\n    \"/state\",\n    INITIAL_STATE,\n    reducer\n  );\n\n  const progress = useMemo(() => {\n    const totalCells = state.grid.length * state.grid[0].length;\n    const totalMines = state.mineCount || getMineCount(state.grid);\n    const safeCells = totalCells - totalMines;\n\n    return (state.score / safeCells) * 100;\n  }, [state.grid, state.mineCount, state.score]);\n\n  const onCellClick = useCallback(\n    (cell: Cell<Game.Tile>, mode?: Game.Mode) => {\n      dispatch({ type: \"TOGGLE_CELL\", payload: { cell, mode } });\n    },\n    [dispatch]\n  );\n\n  const onCellLongPress = useCallback(\n    (cell: Cell<Game.Tile>) => {\n      dispatch({ type: \"TOGGLE_CELL\", payload: { cell, mode: \"defuse\" } });\n    },\n    [dispatch]\n  );\n\n  const onStatusClick = useCallback(() => {\n    dispatch({ type: \"RESET\" });\n  }, [dispatch]);\n\n  const onToggleGameMode = useCallback(() => {\n    dispatch({ type: \"TOGGLE_GAME_MODE\" });\n  }, [dispatch]);\n\n  const onToggleSoundEffects = useCallback(() => {\n    dispatch({ type: \"TOGGLE_SOUND_EFFECTS\" });\n  }, [dispatch]);\n\n  return {\n    state: {\n      ...state,\n      progress,\n    },\n    handlers: {\n      onCellClick,\n      onStatusClick,\n      onToggleGameMode,\n      onToggleSoundEffects,\n      onCellLongPress,\n    },\n  };\n}\n","import { useEffect } from \"react\";\n\nexport function semverGreaterThan(\n  latestVersion: string,\n  currentVersion: string\n) {\n  const latestParts = latestVersion.split(/\\./g);\n  const currentParts = currentVersion.split(/\\./g);\n\n  while (latestParts.length || currentParts.length) {\n    const a = Number(latestParts.shift());\n    const b = Number(currentParts.shift());\n\n    if (a === b) {\n      continue;\n    }\n\n    return a > b || isNaN(b);\n  }\n\n  return false;\n}\n\n/**\n * Wraps fetch with a concurrent timeout-based callback\n *\n * @param {number} timeout  - timeout in milliseconds\n * @param {Function} [onTimeout] - timeout callback\n */\nexport const fetchWithTimeout =\n  (\n    timeout: number,\n    onTimeout: () => void = () => {\n      throw new Error(\"Timeout exceeded\");\n    }\n  ) =>\n  async (url: string) => {\n    // this forces a 5s timeout in case the request hangs\n    const timeoutHandle = window.setTimeout(onTimeout, timeout);\n    const response = await fetch(url);\n    // cancels the timeout once the request is resolved\n    window.clearTimeout(timeoutHandle);\n    return response;\n  };\n\nexport async function purgeCache() {\n  if (window.caches) {\n    const keys = await window.caches.keys();\n    const deleteKeys = keys.map((key) => window.caches.delete(key));\n\n    await Promise.all(deleteKeys);\n  }\n}\n\nexport async function checkForAppUpdates() {\n  const onTimeout = () => {\n    throw new Error(\"Timeout reached while fetching meta.json\");\n  };\n\n  const fetchWithTimeoutHandler = fetchWithTimeout(5000, onTimeout);\n\n  const response = await fetchWithTimeoutHandler(`meta.json?t=${Date.now()}`);\n  const meta = await response.json();\n  const latestVersion = meta.version;\n  const currentVersion = global.appVersion;\n\n  return semverGreaterThan(latestVersion, currentVersion);\n}\n\n/**\n * Forces window to reload\n */\nexport function forceReload() {\n  window.location.reload();\n}\n\nexport async function tryInstallUpdate() {\n  try {\n    await purgeCache();\n    window.setTimeout(forceReload, 300);\n  } catch (error) {\n    console.log(\"Failed to purge cache\", error);\n  }\n}\n\nexport async function tryCheckForUpdates() {\n  try {\n    const hasUpdates = await checkForAppUpdates();\n    if (\n      hasUpdates &&\n      window.confirm(\"A new version is available, would you like to update?\")\n    ) {\n      await tryInstallUpdate();\n    }\n  } catch (error) {\n    console.log(\"Failed to check for updates:\", error);\n  }\n}\n\nexport const UPDATE_CHECK_INTERVAL = 60000 * 30;\n\nexport default function useUpdateChecker(interval = UPDATE_CHECK_INTERVAL) {\n  useEffect(() => {\n    tryCheckForUpdates();\n    const intervalId = window.setInterval(tryCheckForUpdates, interval);\n\n    return () => {\n      window.clearInterval(intervalId);\n    };\n  }, [interval]);\n}\n","var _defs, _circle, _g, _path, _path2, _g2, _path3, _path4, _path5, _path6, _path7;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgCool(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 256,\n    cy: 256,\n    r: 256,\n    fill: \"#ffe17d\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#ffd164\"\n  }, /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 156.9,\n    cy: 247.7,\n    rx: 74.3,\n    ry: 66.1\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 355.1,\n    cy: 247.7,\n    rx: 74.3,\n    ry: 66.1\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M293 475A256 256 0 0195 57a255 255 0 10360 360c-44 36-101 58-162 58z\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5a4650\",\n    d: \"M229 229l-13-10a49 49 0 0180 0l-13 9a33 33 0 00-54 1z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#6e5a64\",\n    d: \"M157 165c-9 0-18 2-27 5-7 2-14 3-22 3H74c-4 0-8 4-8 9v16c0 5 3 10 7 13l2 2c5 3 8 8 8 14v4c0 37 33 66 74 66s74-29 74-66-33-66-74-66z\"\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#aa7346\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M256 398c-42 0-83-20-107-53a10 10 0 0116-13 113 113 0 00182 0 10 10 0 1116 13c-24 33-64 53-107 53zM182 151h-50a10 10 0 110-21h50a10 10 0 110 21zM380 151h-50a10 10 0 110-21h50a10 10 0 110 21z\"\n  }))), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5a4650\",\n    d: \"M157 281c-32 0-58-22-58-50 0-27 26-49 58-49s58 22 58 49c0 28-26 50-58 50z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#84737b\",\n    d: \"M157 206c22 0 41 6 56 14-6-22-29-38-56-38s-50 16-56 38c14-8 34-14 56-14z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#6e5a64\",\n    d: \"M281 231c0 37 33 66 74 66s74-29 74-66v-4c0-6 3-11 8-14l2-2c4-3 7-8 7-13v-16c0-5-4-9-8-9h-34c-8 0-15-1-22-3-9-3-18-5-27-5-41 0-74 30-74 66z\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5a4650\",\n    d: \"M297 231c0-27 26-49 58-49s58 22 58 49c0 28-26 50-58 50s-58-22-58-50z\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#84737b\",\n    d: \"M355 206c-22 0-41 6-56 14 6-22 29-38 56-38s50 16 56 38c-14-8-34-14-56-14z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCool);\nexport default __webpack_public_path__ + \"static/media/cool.249aba95acc363a4101aaac38508c49a.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _path, _path2, _g, _path3, _circle, _g2, _g3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgSkull(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#dbd9dc\",\n    d: \"M249 0A243 243 0 0017 244v144c0 32 25 58 57 58h42c9 0 16 7 16 16v25c0 14 11 25 25 25h198c14 0 25-11 25-25v-25c0-9 7-16 16-16h42c32 0 57-26 57-58V239C495 105 385-4 249 0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#c9c6ca\",\n    d: \"M140 421c-22 0-41-18-41-41V244C99 126 184 24 297 4c-21-4-44-5-67-3A243 243 0 0017 244v144c0 32 25 58 57 58h42c9 0 16 7 16 16v25c0 14 11 25 25 25h25v-50c0-22-19-41-42-41z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#867e88\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M248 365l-26 63c-3 7 4 13 11 11l17-7c4-2 8-2 12 0l17 7c7 2 14-4 11-11l-26-63c-3-7-13-7-16 0z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 148.7,\n    cy: 289,\n    r: 74.3\n  }))), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#6f6571\",\n    d: \"M149 248c35 0 65 24 72 58a74 74 0 10-145 0c8-34 37-58 73-58z\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 363.4,\n    cy: 289,\n    r: 74.3,\n    fill: \"#867e88\"\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#6f6571\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M363 248c36 0 65 24 73 58a74 74 0 10-145 0c7-34 37-58 72-58zM238 401a49 49 0 0136 0l6 2-16-38c-3-7-13-7-16 0l-16 38 6-2z\"\n  }))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#c9c6ca\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M223 512h-17v-25c0-4 4-8 9-8 4 0 8 4 8 8v25zM306 512h-17v-25c0-4 4-8 8-8 5 0 9 4 9 8v25zM347 512h-17v-25c0-4 4-8 9-8 4 0 8 4 8 8v25zM264 512h-16v-25c0-4 3-8 8-8s8 4 8 8v25z\"\n  }))), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#b7b2b8\",\n    d: \"M182 512h-17v-25c0-4 4-8 8-8 5 0 9 4 9 8v25z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSkull);\nexport default __webpack_public_path__ + \"static/media/skull.5ef489e901db6938ced0ac7c9708e6ff.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _circle, _g, _g2, _g3, _path, _path2, _path3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgThinking(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 256,\n    cy: 256,\n    r: 256,\n    fill: \"#ffe17d\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#ffd164\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M293 475A256 256 0 0195 57a255 255 0 10360 360c-44 36-101 58-162 58z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M182 512c9 0 16-7 16-17 0-9-7-16-16-16h8c9 0 16-7 16-17 0-9-7-16-16-16h8c9 0 17-7 17-17 0-9-8-16-17-16h91c9 0 17-7 17-17 0-9-8-16-17-16H140c-13 0-24-11-24-25v-49c0-10-8-17-17-17s-16 7-16 17v40c0 11-4 22-11 31l-8 10c-9 11-14 26-14 41v34c0 28 22 50 49 50h83z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#ffc350\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M198 495H99c-18 0-33-14-33-33v-34c0-11 4-22 11-31l8-10c9-11 14-26 14-41v-57c-9 0-16 7-16 17v40c0 11-4 22-11 31l-8 10c-9 11-14 26-14 41v34c0 28 22 50 49 50h83c9 0 16-7 16-17zM306 396H190a8 8 0 100 17h99c9 0 17-7 17-17zM173 438c0 4 4 8 9 8h16c9 0 17-7 17-17h-33c-5 0-9 4-9 9z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M165 471c0 4 4 8 8 8h17c9 0 16-7 16-17h-33c-4 0-8 4-8 9z\"\n  }))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#aa7346\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M297 341l-4-1c-1-1-58-29-120-30-6 0-10-5-10-11s5-10 10-10c68 2 126 31 129 32a10 10 0 01-5 20zM190 134l-6-2c-2-1-38-29-80-7a10 10 0 01-10-19c55-27 100 8 102 10a10 10 0 01-6 18zM306 151a10 10 0 01-2-21l82-16a10 10 0 114 20l-82 17h-2z\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#7d5046\",\n    d: \"M152 208c-11-1-19-12-18-23l2-16c1-12 12-20 23-18 11 1 19 11 18 23l-2 16c-1 11-12 19-23 18z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9c6846\",\n    d: \"M159 151h-4l-4 28a12 12 0 1025 3l1-8c1-12-7-22-18-23z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#7d5046\",\n    d: \"M325 226c-11-1-19-12-18-23l2-16c1-12 12-20 23-18 11 1 19 11 18 23l-2 16c-1 11-12 19-23 18z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#9c6846\",\n    d: \"M332 169h-4l-4 28a12 12 0 1025 3l1-8c1-12-7-22-18-23z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThinking);\nexport default __webpack_public_path__ + \"static/media/thinking.dfb5e9d093a07d8233cc844912896eee.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgGithub(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M256 5a257 257 0 00-81 501c13 3 18-5 18-12l-1-44c-71 16-86-34-86-34-12-30-28-38-28-38-24-16 1-16 1-16 26 2 39 27 39 27 23 39 60 28 75 21 2-16 9-28 16-34-57-7-116-29-116-127 0-28 10-51 26-69-3-7-11-33 3-68 0 0 21-7 70 26a244 244 0 01128 0c49-33 70-26 70-26 14 35 6 61 3 68 16 18 26 41 26 69 0 99-60 120-117 127 10 8 18 23 18 47v71c0 7 4 15 17 12A257 257 0 00256 5z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithub);\nexport default __webpack_public_path__ + \"static/media/github.4bbc729f2e8f76b75b0722cee9da9567.svg\";\nexport { ForwardRef as ReactComponent };","import { keyframes } from \"styled-components\";\nimport { darken } from \"polished\";\n\nexport const colors = {\n  primary: \"#FFD400\",\n  secondary: \"#3482B9\",\n  positive: \"#49C04A\",\n  negative: \"#D03930\",\n  neutral: \"#AAA\",\n  light: \"#ABE0F9\",\n  muted: \"#EAEAEA\",\n  hotpink: \"#FC8BA4\",\n  black: \"#333\",\n  white: \"#FFF\",\n  gray: \"#CCC\",\n  dark: \"#666\",\n  shadow: \"rgba(0, 0, 0, 0.4)\",\n} as const;\n\nexport const radii = {\n  default: \"0.2rem\",\n  sm: \"0.1rem\",\n  md: \"0.2rem\",\n  lg: \"0.3rem\",\n  xl: \"0.4rem\",\n  xxl: \"0.6rem\",\n  xxxl: \"1rem\",\n  round: \"1000px\",\n} as const;\n\nexport const shadows = {\n  default: `0 1px 2px ${colors.shadow}`,\n  inset: \"inset 1px 0 2px\",\n  top: `0 -2px 6px ${colors.shadow}`,\n  none: \"none\",\n} as const;\n\nexport const fontFamilies = {\n  display: \"'Black Ops One', monospace\",\n  default: \"'Lato', sans-serif\",\n  voice: \"'Vollkorn', serif\",\n};\n\nconst baseFontSize = 18;\n\nexport const fontSizes = {\n  default: baseFontSize,\n  xs: baseFontSize * 0.6,\n  sm: baseFontSize * 0.8,\n  md: baseFontSize,\n  lg: baseFontSize * 1.2,\n} as const;\n\nconst animations = {\n  appear: keyframes`\n    0% {\n      transform: scale(0.1);\n      opacity: 0.1;\n    }\n  `,\n  glow: keyframes`\n    70% {\n      opacity: 1;\n      background-color: ${darken(0.2, colors.negative)};\n    }\n  `,\n} as const;\n\nconst theme = {\n  colors,\n  radii,\n  fontSizes,\n  fontFamilies,\n  shadows,\n  animations,\n} as const;\n\nexport type Color = keyof typeof colors;\n\nexport type Radius = keyof typeof radii;\n\nexport type FontSize = keyof typeof fontSizes;\n\nexport type FontFamily = keyof typeof fontFamilies;\n\nexport type Theme = typeof theme;\n\nexport default theme;\n","import tw from \"tailwind-styled-components\";\n\nexport const BOARD_WIDTH = \"1072.16px\";\nexport const BOARD_HEIGHT = \"840.44px\";\n\nexport const APP_BAR_HEIGHT = \"3.8rem\";\nexport const FOOTER_HEIGHT = \"3.8rem\";\nexport const CONTENT_MARGIN = \"1rem\";\n\nexport const Root = tw.div`\n  lg:h-screen h-[100dvh]\n  flex flex-col \n  items-center\n bg-muted\n`;\n\nexport const AppBar = tw.header`\n  flex items-center justify-center \n  w-full h-appbar \n  bg-black shadow-md\n`;\n\nexport const Clamp = tw.div`\n  flex flex-row\n  items-center \n  justify-between\n  px-[0.5rem]\n  w-board\n`;\n\nexport const Version = tw.span`\n  absolute\n  text-[0.375em]\n  left-[8.75em]\n  bottom-[-0.75em]\n  before:content-['v']\n`;\n\nexport const Brand = tw.div`\n  font-display text-primary text-[2rem] \n  flex flex-1 cursor-pointer\n  relative\n`;\n\nexport const Controls = tw.nav`\n  flex flex-1 flex-col items-end\n`;\n\nexport const StatusDisplay = tw.div<{ $isGameOver: boolean }>`\n  bg-shadow\n  shadow-lg shadow-black/60\n  rounded-full\n  w-16 h-16\n  mt-4 p-2\n  cursor-pointer\n  ${(p) => (p.$isGameOver ? \"animate-glow\" : \"\")}\n`;\n\nexport const Content = tw.main`content relative`;\n","import styled, {\n  css as baseCSS,\n  ThemedCssFunction,\n  ThemedStyledInterface,\n  ThemeProps as BaseThemeProps,\n  useTheme as baseUseTheme,\n} from \"styled-components\";\n\nimport type { Theme } from \"ui/theme\";\n\nexport type ThemeProps = BaseThemeProps<Theme>;\n\nexport type ThemedProps<P = {}> = ThemeProps & P;\n\nexport const useTheme = baseUseTheme as () => Theme;\n\nexport const getThemeProp =\n  <P extends keyof Theme>(key: P) =>\n  <TProps extends ThemeProps = ThemeProps>(\n    lens: ((props: TProps) => keyof Theme[P]) | keyof Theme[P]\n  ) =>\n  (props: TProps) => {\n    const $value = typeof lens === \"function\" ? lens(props) : lens;\n\n    return props.theme[key][$value];\n  };\n\nexport const getColor = getThemeProp(\"colors\");\nexport const getRadius = getThemeProp(\"radii\");\nexport const getFontSize = getThemeProp(\"fontSizes\");\nexport const getShadow = getThemeProp(\"shadows\");\nexport const getFontFamily = getThemeProp(\"fontFamilies\");\nexport const getAnimation = getThemeProp(\"animations\");\n\nexport const css = baseCSS as ThemedCssFunction<Theme>;\nexport default styled as ThemedStyledInterface<Theme>;\n","var _defs, _circle, _path, _path2, _circle2, _path3, _circle3, _circle4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgEye(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 256.3,\n    cy: 256,\n    r: 245,\n    fill: \"#fec753\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#35528c\",\n    d: \"M256 105C133 105 30 217 3 248c-4 5-4 11 0 16 27 31 130 143 253 143s226-112 253-143c4-5 4-11 0-16-27-31-130-143-253-143z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#1f3a60\",\n    d: \"M42 256c0-24 96-151 214-151C134 105 31 215 4 247c-5 5-5 13 0 18 27 32 130 142 252 142-118 0-214-127-214-151z\"\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 256,\n    cy: 256,\n    r: 132,\n    fill: \"#99d3ff\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#5bb3ce\",\n    d: \"M176 256c0-64 46-117 106-129a133 133 0 00-158 129 132 132 0 00158 129c-60-12-106-65-106-129z\"\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 254.6,\n    cy: 256,\n    r: 65.6,\n    fill: \"#1f3a60\"\n  })), _circle4 || (_circle4 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 308.1,\n    cy: 225.6,\n    r: 27.9,\n    fill: \"#dcf3ff\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEye);\nexport default __webpack_public_path__ + \"static/media/eye.0d94419fc0441ab5963204b37438e84d.svg\";\nexport { ForwardRef as ReactComponent };","import tw from \"tailwind-styled-components\";\n\nimport styled, {\n  getAnimation,\n  getColor,\n  getRadius,\n  getShadow,\n} from \"ui/styled\";\n\nimport { ReactComponent as GithubSVG } from \"assets/github.svg\";\n\nexport const GithubIcon = tw(GithubSVG)`\n  w-8 h-8\n`;\n\nexport const GithubLabel = styled.div`\n  white-space: nowrap;\n  font-size: 0.9rem;\n`;\n\nexport const GithubBadge = styled.a`\n  border-radius: ${getRadius(\"round\")};\n  color: ${getColor(\"secondary\")};\n  background: ${getColor(\"white\")};\n  display: flex;\n  padding: 0.4rem;\n  width: 2.2rem;\n  height: 2.2rem;\n  overflow: hidden;\n  ${GithubLabel} {\n    display: none;\n  }\n  justify-content: space-around;\n  align-items: center;\n  box-shadow: ${getShadow(\"default\")};\n  font-weight: 700;\n  text-decoration: none;\n  :hover {\n    ${GithubLabel} {\n      display: flex;\n      animation: ${getAnimation(\"appear\")} 0.3s ease;\n      padding: 0.4rem;\n    }\n    width: 12rem;\n    border-radius: 2rem;\n  }\n  transition: all 0.3s ease-in-out;\n  user-select: none;\n  outline: none;\n`;\n\nconst Github: React.FC = () => {\n  return (\n    <GithubBadge\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      href=\"https://github.com/alanrsoares/ts-mines\"\n      aria-label=\"got to the project's github page\"\n    >\n      <GithubIcon />\n      <GithubLabel>@alanrsoares/ts-mines</GithubLabel>\n    </GithubBadge>\n  );\n};\n\nexport default Github;\n","var _defs, _path, _path2, _path3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgFlag(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fc644f\",\n    d: \"M389 271l121 163c-91 30-300 24-381-18V126c80 41 290 49 381 18L389 271z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#f1543f\",\n    d: \"M129 415l65-32-48-145-17 24z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#ff7058\",\n    d: \"M41 47v289s75-20 152 46V94C116 27 41 47 41 47z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#40596b\",\n    d: \"M32 0C16 0 2 13 2 29v483h59V29C61 13 48 0 32 0z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFlag);\nexport default __webpack_public_path__ + \"static/media/flag.bf8b5d2599f8fc9188e0c81935fd78bc.svg\";\nexport { ForwardRef as ReactComponent };","import { FC } from \"react\";\n\nimport styled from \"ui/styled\";\n\ntype Props = {\n  onChange(on: boolean): void;\n  on?: boolean;\n};\n\nconst SoundOffIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    style={{ height: \"2rem\", width: \"2rem\" }}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2\"\n    />\n  </svg>\n);\n\nconst SoundOnIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    style={{ height: \"2rem\", width: \"2rem\" }}\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z\"\n    />\n  </svg>\n);\n\nconst IconButton = styled.div.attrs({ role: \"button\" })`\n  cursor: pointer;\n`;\n\nconst ToggleSound: FC<Props> = (props) => (\n  <IconButton onClick={() => props.onChange(Boolean(props.on))}>\n    {props.on ? <SoundOnIcon /> : <SoundOffIcon />}\n  </IconButton>\n);\n\nexport default ToggleSound;\n","import { darken } from \"polished\";\nimport tw from \"tailwind-styled-components\";\n\nimport { Mode } from \"lib/game\";\nimport { Clamp } from \"ui/components/core\";\nimport Github from \"ui/components/Github\";\nimport styled, { getColor, getRadius, getShadow } from \"ui/styled\";\nimport { Color } from \"ui/theme\";\n\nimport { ReactComponent as EyeIcon } from \"assets/eye.svg\";\nimport { ReactComponent as FlagIcon } from \"assets/flag.svg\";\nimport ToggleSound from \"./ToggleSound\";\n\nconst Eye = tw(EyeIcon)`w-4 h-4`;\n\nconst Flag = tw(FlagIcon)`w-4 h-4`;\n\nconst Circle = styled.div<{ active: boolean }>`\n  border-radius: ${getRadius(\"round\")};\n  background-color: ${(p) =>\n    p.active ? getColor(\"gray\")(p) : darken(0.1, getColor(\"gray\")(p))};\n  width: 1.8rem;\n  height: 1.8rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.1rem;\n  transition-delay: 0.3s;\n  transition: background-color 0.2s ease-in-out;\n  box-shadow: ${getShadow((p) => (p.active ? \"inset\" : \"default\"))};\n`;\n\nexport const Button = styled.button<{\n  color: Color;\n  side: \"left\" | \"right\";\n  active?: boolean;\n}>`\n  border: none;\n  background-color: ${(p) => {\n    const color = getColor(p.color)(p);\n    return p.active ? color : darken(0.5, color);\n  }};\n  height: 2.8rem;\n  width: 4rem;\n  ${(p) => `\n      border-top-${p.side}-radius: 2rem;\n      border-bottom-${p.side}-radius: 2rem;\n    `}\n  box-shadow: ${getShadow((p) => (p.active ? \"inset\" : \"default\"))};\n  outline: none;\n  transition: all 0.1s ease;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s ease-in-out;\n  cursor: pointer;\n`;\n\nexport const ButtonGroup = tw.div`\n  flex\n`;\n\nexport const Root = tw.div`\n  flex items-center justify-center\n  w-full h-appbar \n  bg-dark text-white\n  shadow-md fixed bottom-0\n`;\n\ntype Props = {\n  onToggleGameMode(): void;\n  onToggleSoundEffects(): void;\n  soundEffects?: boolean;\n  gameMode: Mode;\n};\n\nconst Footer: React.FC<Props> = (props) => (\n  <Root>\n    <Clamp>\n      <Github />\n      <div>\n        <ToggleSound\n          on={props.soundEffects}\n          onChange={props.onToggleSoundEffects}\n        />\n      </div>\n      <ButtonGroup>\n        <Button\n          side=\"left\"\n          color=\"white\"\n          active={props.gameMode === \"defuse\"}\n          onClick={props.onToggleGameMode}\n          aria-label=\"Toggle game mode\"\n        >\n          <Circle active={props.gameMode === \"defuse\"}>\n            <Flag />\n          </Circle>\n        </Button>\n        <Button\n          side=\"right\"\n          color=\"white\"\n          active={props.gameMode === \"reveal\"}\n          onClick={props.onToggleGameMode}\n          aria-label=\"Toggle game mode\"\n        >\n          <Circle active={props.gameMode === \"reveal\"}>\n            <Eye />\n          </Circle>\n        </Button>\n      </ButtonGroup>\n    </Clamp>\n  </Root>\n);\n\nexport default Footer;\n","import { omit } from \"rambda\";\nimport { useMemo } from \"react\";\nimport { css } from \"styled-components\";\n\nimport { ReactComponent as FlagIcon } from \"assets/flag.svg\";\nimport { ReactComponent as MineIcon } from \"assets/mine.svg\";\nimport { Tile } from \"lib/game\";\nimport { useLongPress } from \"lib/hooks\";\nimport styled, {\n  getAnimation,\n  getColor,\n  getRadius,\n  getShadow,\n} from \"ui/styled\";\n\nexport const Mine = styled(MineIcon)`\n  width: 1.4rem;\n  height: 1.4rem;\n  animation: ${getAnimation(\"appear\")} 0.2s ease-in-out;\n`;\n\nexport const Flag = styled(FlagIcon)`\n  width: 1.4rem;\n  height: 1.4rem;\n  animation: ${getAnimation(\"appear\")} 0.2s ease-in-out;\n`;\n\nexport const NUMBER_COLORS: Record<number, string> = {\n  0: \"white\",\n  1: \"blue\",\n  2: \"green\",\n  3: \"red\",\n  4: \"darkblue\",\n  5: \"darkgreen\",\n  6: \"darkred\",\n  7: \"purple\",\n  8: \"darkpurple\",\n};\n\ntype Props = Tile & {\n  onLongPress(): void;\n  onClick(): void;\n  active?: boolean;\n};\n\nconst GridTileContainer = styled.button<Omit<Props, \"onLongPress\">>`\n  width: 1.8rem;\n  height: 1.8rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: ${getShadow(({ revealed }) => (revealed ? \"none\" : \"default\"))};\n  border-radius: ${getRadius(\"lg\")};\n  margin: 0.2rem;\n  padding: 0.2rem;\n  background: ${getColor(({ revealed, kind, active }) =>\n    revealed ? (kind === \"mine\" && active ? \"negative\" : \"white\") : \"gray\"\n  )};\n  appearance: none;\n  border: none;\n  transition: all 0.2s ease-in-out;\n  font-weight: bold;\n  user-select: none;\n  outline: none;\n  cursor: ${({ active }) => (active ? \"auto\" : \"pointer\")};\n  ${({ children }) =>\n    // dynamic number-color mapping\n    typeof children === \"number\"\n      ? css`\n          color: ${NUMBER_COLORS[children]};\n        `\n      : undefined};\n  :active {\n    opacity: 0.8;\n    box-shadow: 0 0 0 0.125rem rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst GridTile: React.FC<Props> = (props) => {\n  const content = useMemo(() => {\n    if (props.defused) {\n      return <Flag />;\n    }\n    if (!props.revealed || props.kind === \"safe\") {\n      return null;\n    }\n\n    switch (props.kind) {\n      case \"empty\":\n        return props.surroundingMines;\n      case \"mine\":\n        return <Mine />;\n    }\n  }, [props]);\n\n  const longPressProps = useLongPress(props.onLongPress, 400);\n\n  return (\n    <GridTileContainer\n      {...omit([\"onLongPress\"], props)}\n      {...longPressProps}\n      active={props.active}\n    >\n      {content}\n    </GridTileContainer>\n  );\n};\n\nexport default GridTile;\n","import { useCallback, FC } from \"react\";\nimport tw from \"tailwind-styled-components\";\n\nimport { Tile } from \"lib/game\";\nimport { Cell, Matrix } from \"lib/Grid\";\n\nimport GridTile from \"./GridTile\";\n\nexport const GridContainer = tw.div`\n  flex flex-col\n`;\n\nexport const GridRow = tw.div`\n  flex\n`;\n\ntype Props = {\n  grid: Matrix<Tile>;\n  onTileClick(cell: Cell<Tile>): void;\n  onTileLongPress(cell: Cell<Tile>): void;\n  activeCell?: Cell<Tile>;\n};\n\nconst GridComponent: FC<Props> = (props) => {\n  const handleClick = useCallback(\n    (cell: Cell<Tile>) => () => props.onTileClick(cell),\n    [props]\n  );\n\n  const handleLongPress = useCallback(\n    (cell: Cell<Tile>) => () => props.onTileLongPress(cell),\n    [props]\n  );\n\n  return (\n    <GridContainer>\n      {props.grid.map((row, y) => (\n        <GridRow key={`row-${y}`}>\n          {row.map((cell, x) => (\n            <GridTile\n              key={`tile-${x}`}\n              onClick={handleClick(cell)}\n              onLongPress={handleLongPress(cell)}\n              {...cell.value}\n              active={\n                cell.row === props.activeCell?.row &&\n                cell.column === props.activeCell?.column\n              }\n            />\n          ))}\n        </GridRow>\n      ))}\n    </GridContainer>\n  );\n};\n\nexport default GridComponent;\n","import styled, { getColor, getRadius } from \"ui/styled\";\nimport { ReactComponent as EyeIcon } from \"assets/eye.svg\";\n\nexport const Root = styled.div`\n  display: flex;\n  color: ${getColor(\"primary\")};\n  min-width: 8rem;\n  flex-direction: column;\n  align-items: center;\n  background: ${getColor(\"shadow\")};\n  border-radius: ${getRadius(\"lg\")};\n  height: 3rem;\n  justify-content: space-around;\n  @media screen and (max-width: 360px) {\n    min-width: 6rem;\n  }\n`;\n\nexport const ProgressContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${getColor(\"primary\")};\n  font-size: 1.6rem;\n`;\n\nexport const ProgressLine = styled.div<{ progress: number }>`\n  height: 0.3rem;\n  overflow: hidden;\n  border-radius: ${getRadius(\"default\")};\n  width: 80%;\n  align-self: center;\n  background: linear-gradient(\n    to right,\n    ${getColor(\"positive\")} 0%,\n    ${getColor(\"positive\")} ${(p) => p.progress}%,\n    ${getColor(\"white\")} ${(p) => p.progress}%,\n    ${getColor(\"white\")} 100%\n  );\n`;\n\nexport const ProgressIcon = styled(EyeIcon)`\n  width: 0.9rem;\n  height: 0.9rem;\n  margin-right: 0.5rem;\n`;\n\nconst Score: React.FC<{ score: number; progress: number }> = (props) => (\n  <Root>\n    <ProgressContainer>\n      <ProgressIcon /> {props.score}\n    </ProgressContainer>\n    <ProgressLine progress={props.progress} />\n  </Root>\n);\n\nexport default Score;\n","import { ThemeProvider } from \"styled-components\";\n\nimport { GameStateProvider, useGameStateContainer } from \"lib/contexts\";\nimport { GameStatus } from \"lib/game\";\nimport { useRightClick } from \"lib/hooks\";\nimport useUpdateChecker, { UPDATE_CHECK_INTERVAL } from \"lib/useUpdateChecker\";\n\nimport { ReactComponent as CoolIcon } from \"assets/cool.svg\";\nimport { ReactComponent as SkullIcon } from \"assets/skull.svg\";\nimport { ReactComponent as ThinkingIcon } from \"assets/thinking.svg\";\n\nimport theme from \"ui/theme\";\nimport {\n  AppBar,\n  Brand,\n  Clamp,\n  Content,\n  Controls,\n  Root,\n  StatusDisplay,\n  Version,\n} from \"ui/components/core\";\nimport Footer from \"ui/components/Footer\";\nimport GridComponent from \"ui/components/Grid\";\nimport Score from \"ui/components/Score\";\n\nconst STATUS_ICONS: Record<GameStatus, JSX.Element> = {\n  new: <ThinkingIcon />,\n  won: <CoolIcon />,\n  over: <SkullIcon />,\n};\n\nconst StatusIcon: React.FC<{ status: GameStatus }> = (props) =>\n  STATUS_ICONS[props.status];\n\nconst NO_OP = () => {};\n\nexport function App() {\n  useUpdateChecker(UPDATE_CHECK_INTERVAL);\n  useRightClick(NO_OP);\n\n  const { state, handlers } = useGameStateContainer();\n\n  return (\n    <Root>\n      <AppBar>\n        <Clamp>\n          <Brand>\n            [MINES]\n            <Version>{global.appVersion}</Version>\n          </Brand>\n          <StatusDisplay\n            $isGameOver={state.gameStatus === \"over\"}\n            onClick={handlers.onStatusClick}\n          >\n            <StatusIcon status={state.gameStatus} />\n          </StatusDisplay>\n          <Controls>\n            <Score score={state.score} progress={state.progress} />\n          </Controls>\n        </Clamp>\n      </AppBar>\n\n      <Content>\n        <GridComponent\n          grid={state.grid}\n          activeCell={state.activeCell}\n          onTileClick={handlers.onCellClick}\n          onTileLongPress={handlers.onCellLongPress}\n        />\n      </Content>\n\n      <p className=\"text-xs\">\n        {state.gameLevel} - {state.boardSize}\n      </p>\n\n      <Footer\n        onToggleGameMode={handlers.onToggleGameMode}\n        onToggleSoundEffects={handlers.onToggleSoundEffects}\n        gameMode={state.gameMode}\n        soundEffects={state.enableSFX}\n      />\n    </Root>\n  );\n}\n\nexport default function AppWithProviders() {\n  return (\n    <ThemeProvider theme={theme}>\n      <GameStateProvider>\n        <App />\n      </GameStateProvider>\n    </ThemeProvider>\n  );\n}\n"],"names":["isIndexOutOfBounds","value","gridSize","min","max","isBetween","isOutOfBounds","cell","dimensions","row","rows","column","columns","Grid","_classCallCheck","_dimensions","_grid","getNeighborsCoordinates","fn","cache","Map","_len","arguments","length","args","Array","_key","key","JSON","stringify","has","get","result","apply","set","memoize","_ref","coordinates","y","x","push","isArray","this","fill","Error","concat","_createClass","matrix","slice","_ref2","previous","getCell","_ref3","_ref4","_this","reduce","acc","_toConsumableArray","_this2","nextMatrix","map","cells","_objectSpread","from","undefined","CHANCE_OF_MINES_PER_LEVEL","easy","medium","hard","ultra","god","NEXT_LEVEL","getDimensions","Math","floor","BOARD_SIZES","xs","sm","md","lg","xl","NEXT_BOARD_SIZE","revealTile","tile","revealed","revealMine","kind","getNextGrid","cellClicked","nextGrid","updateCell","getCellNeighbors","forEach","neighborCell","neighbor","snapshot","isMine","makeNewGrid","chanceOfMines","make","random","surroundingMines","self","filter","didWin","grid","flat","_cells$reduce","flagged","defused","mines","playSoundEffect","_x","_playSoundEffect","_asyncToGenerator","_regeneratorRuntime","mark","_callee","element","wrap","_context","prev","next","document","querySelector","play","t0","console","log","stop","statuses","getMineCount","total","DEFAULT_GAME_LEVEL","INITIAL_GRID","Game","INITIAL_STATE","gameStatus","gameMode","gameLevel","boardSize","activeCell","score","enableSFX","mineCount","isFinalStatus","status","includes","reducer","state","action","type","_action$payload","payload","mode","partialNextState","nextScore","scoreDelta","StorageAdapter","namespace","path","localStorage","setItem","defaultValue","getItem","parse","_createContainer","createContainer","_useCachedReducer","cacheKey","defaultState","persistedState","storage","read","_useReducer","useReducer","_useReducer2","_slicedToArray","dispatch","useEffect","write","useCachedReducer","_useCachedReducer2","progress","useMemo","safeCells","onCellClick","useCallback","onCellLongPress","onStatusClick","onToggleGameMode","onToggleSoundEffects","handlers","GameStateProvider","Provider","useGameStateContainer","useContainer","semverGreaterThan","latestVersion","currentVersion","latestParts","split","currentParts","a","Number","shift","b","isNaN","fetchWithTimeout","timeout","onTimeout","url","timeoutHandle","response","window","setTimeout","fetch","sent","clearTimeout","abrupt","purgeCache","_purgeCache","_callee2","keys","deleteKeys","_context2","caches","delete","Promise","all","checkForAppUpdates","_checkForAppUpdates","_callee3","fetchWithTimeoutHandler","meta","_context3","Date","now","json","version","global","appVersion","forceReload","location","reload","tryInstallUpdate","_tryInstallUpdate","_callee4","_context4","tryCheckForUpdates","_tryCheckForUpdates","_callee5","_context5","confirm","_defs","_circle","_g","_path","_path2","_g2","_path3","_path4","_path5","_path6","_path7","UPDATE_CHECK_INTERVAL","_excluded","_extends","Object","assign","bind","target","i","source","prototype","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCool","svgRef","title","titleId","props","xmlns","viewBox","ref","id","cx","cy","r","rx","ry","d","_g3","ForwardRef","SvgSkull","SvgThinking","colors","primary","secondary","positive","negative","neutral","light","muted","hotpink","black","white","gray","dark","shadow","radii","default","xxl","xxxl","round","fontSizes","baseFontSize","fontFamilies","display","voice","shadows","inset","top","none","animations","appear","keyframes","_templateObject","_taggedTemplateLiteral","glow","_templateObject2","darken","Root","tw","div","AppBar","header","Clamp","_templateObject3","Version","span","_templateObject4","Brand","_templateObject5","Controls","nav","_templateObject6","StatusDisplay","_templateObject7","p","$isGameOver","Content","main","_templateObject8","getThemeProp","lens","$value","theme","getColor","getRadius","getShadow","getAnimation","styled","SvgGithub","_circle2","_circle3","_circle4","GithubIcon","GithubSVG","GithubLabel","GithubBadge","_jsxs","rel","href","children","_jsx","SvgEye","SvgFlag","SoundOffIcon","style","height","width","stroke","strokeLinecap","strokeLinejoin","strokeWidth","clipRule","SoundOnIcon","IconButton","attrs","role","onClick","onChange","Boolean","on","Eye","EyeIcon","Flag","FlagIcon","Circle","active","Button","button","color","side","ButtonGroup","Github","ToggleSound","soundEffects","Mine","MineIcon","NUMBER_COLORS","GridTileContainer","css","content","longPressProps","callback","ms","_useState","useState","_useState2","running","setRunning","timeoutIdRef","useRef","cancelTimeout","current","start","onMouseDown","onMouseUp","onMouseLeave","onTouchStart","onTouchEnd","onMouseMove","useLongPress","onLongPress","omit","GridContainer","GridRow","handleClick","onTileClick","handleLongPress","onTileLongPress","_props$activeCell","_props$activeCell2","GridTile","ProgressContainer","ProgressLine","ProgressIcon","STATUS_ICONS","new","ThinkingIcon","won","CoolIcon","over","SkullIcon","StatusIcon","NO_OP","App","interval","intervalId","setInterval","clearInterval","useUpdateChecker","onContextMenu","e","preventDefault","addEventListener","removeEventListener","useRightClick","_useGameStateContaine","Score","GridComponent","className","Footer","AppWithProviders","ThemeProvider"],"sourceRoot":""}